import json
import os
import locale

TRANSLATIONS = {
    "fr": {
        # Tabs
        "tab_config": "Configuration",
        "tab_params": "Parametres COLMAP",
        "tab_logs": "Logs",
        
        # Header
        # RULE: Increment by 0.01 on every modification
        "app_title": "CorbeauSplat",
        
        # Config Tab - Inputs
        "group_input": "Donnees d'entree",
        "label_project_name": "Nom du projet :",
        "label_type": "Type :",
        "radio_images": "Images",
        "radio_video": "Video",
        "label_path": "Dossier/Fichier :",
        "btn_browse": "Parcourir",
        "label_fps": "FPS extraction video :",
        
        # Config Tab - Outputs
        "group_output": "Sortie",
        "label_out_path": "Dossier de sortie :",
        "btn_delete": "Supprimer Dataset Existant",
        "check_undistort": "Generer images non-distordues (pour dense reconstruction)",
        
        # Config Tab - Actions
        "btn_process": "Creer Dataset COLMAP",
        "btn_stop": "Arreter",
        "btn_save_cfg": "Sauvegarder Config",
        "btn_load_cfg": "Charger Config",
        "btn_open_brush": "Ouvrir dans Brush",
        "btn_quit": "Quitter",
        "btn_quit": "Quitter",
        "btn_relaunch": "Relancer",
        "btn_reset": "Réinitialisation Usine",
        "confirm_reset": "⚠️ Réinitialisation Complète\n\nCette action va :\n1. Supprimer les environnements virtuels (.venv, .venv_sharp).\n2. Nettoyer les fichiers temporaires.\n3. Relancer l'installation (Optimisée Apple Silicon).\n\nRecommandé en cas de problème de dépendances (ex: Numpy/Pytorch).",
        "opt_jit_enabled": "JIT Activé (Python 3.13+)",
        "opt_jit_disabled": "JIT Inactif (Recommandé: Python 3.13)",
        
        # Params Tab
        "info_cpu": "Apple Silicon detecte - {} threads optimises",
        "group_extract": "Feature Extraction",
        "lbl_camera_model": "Modele camera :",
        "check_single_cam": "Camera unique :",
        "lbl_max_img": "Taille max image :",
        "lbl_max_feat": "Features max :",
        "check_force_cpu": "Forcer CPU :",
        "check_affine": "Affine shape :",
        "check_domain": "Domain pooling :",
        
        "group_match": "Feature Matching",
        "lbl_match_type": "Type de matching :",
        "lbl_max_ratio": "Max ratio :",
        "lbl_max_dist": "Max distance :",
        "check_cross": "Cross check :",
        "check_guided": "Guided matching (non supporte) :",
        
        "group_mapper": "Reconstruction (Mapper)",
        "lbl_min_model": "Min model size :",
        "check_multi_model": "Multiple models :",
        "check_focal": "Refine focal :",
        "check_principal": "Refine principal :",
        "check_extra": "Refine extra :",
        "lbl_min_match": "Min matches :",
        "check_use_glomap": "Utiliser Glomap (Experimental)",
        "lbl_glomap": "GLOMAP :",
        
        # Brush Tab
        "tab_brush": "Brush",
        "brush_detected": "Moteur Brush detecte : {}",
        "brush_not_found": "Attention : Executable 'brush' non trouve dans engines/ ou PATH",
        "brush_params": "Parametres d'entrainement",
        "brush_iterations": "Iterations :",
        "brush_args": "Arguments suppl. :",
        "brush_viewer": "Activer le visualiseur pendant l'entrainement",
        "btn_train_brush": "Lancer Entrainement Brush",
        "check_auto_brush": "Lancer entrainement Brush automatiquement",
        "msg_brush_start": "Lancement Brush sur : {}",
        "msg_brush_out": "Sortie Brush : {}",
        "check_brush_independent": "Mode Manuel / Independant",
        "brush_group_paths": "Chemins (Mode Manuel)",
        "brush_lbl_input": "Dossier Dataset (sparse+images) :",
        "brush_lbl_output": "Dossier Export :",
        "brush_lbl_ply": "Nom du fichier PLY (optionnel) :",
        "brush_lbl_res": "Résolution Maximum :",
        "brush_res_warn": "0 = résolution par défaut (1080)",
        "brush_res_default": "0",
        
        # Brush Densification
        "brush_group_densify": "Densification & Avancé",
        "brush_lbl_preset": "Preset :",
        "brush_preset_default": "Par défaut",
        "brush_preset_fast": "Test Rapide (15k)",
        "brush_preset_std": "Standard (30k)",
        "brush_preset_dense": "Densification Agressive",
        "brush_init_ply": "Fichier Init PLY :",
        "brush_btn_init_ply": "Choisir .ply...",
        "brush_lbl_mode": "Mode d'entraînement :",
        "brush_mode_new": "Nouvel Entraînement (De zéro)",
        "brush_mode_refine": "Raffiner / Continuer (Auto)",
        "brush_check_refine": "Refine depuis dernier checkpoint (Auto)", # Consider deprecating
        "brush_lbl_steps": "Steps Total :",
        "brush_lbl_start": "Start Iter :",
        "brush_lbl_refine": "Refine Every :",
        "brush_lbl_threshold": "Growth Threshold :",
        "brush_lbl_fraction": "Growth Fraction :",
        "brush_lbl_stop": "Growth Stop Iter :",
        "brush_lbl_max_splats": "Max Splats :",
        "brush_lbl_ckpt_interval": "Sauvegarder Checkpoint tous les :",
        "brush_check_details": "Afficher les détails avancés",
        "brush_sh_degree": "SH Degree :",
        "brush_device": "Device :",
        "brush_tip_device": "Device (auto, mps, cpu...)",
        "brush_tip_mode": "Nouvel entrainement: Crée un nouveau modèle.\nRaffiner: Reprend depuis le dernier checkpoint trouvé.",
        "brush_tip_res": "Définir une limite de résolution (côté le plus long). Laisser à 0 pour le défaut.",

        # SuperSplat Tab
        "tab_supersplat": "SuperSplat",
        "superplat_info": "SuperSplat est un outil web developpe par PlayCanvas pour editer et visualiser les Gaussian Splats.\nCe module lance un serveur local.",
        "group_server_config": "Configuration Serveur",
        "lbl_splat_port": "Port SuperSplat :",
        "lbl_data_port": "Port Donnees :",
        "group_data": "Donnees a Visualiser",
        "placeholder_ply": "Chemin vers un fichier .ply ou dossier",
        "group_url_options": "Options de Vue",
        "check_no_ui": "Masquer l'interface (No UI)",
        "lbl_cam_pos": "Position Camera :",
        "lbl_cam_rot": "Rotation Camera :",
        "btn_start_server": "Demarrer Serveurs",
        "btn_stop_server": "Arreter Serveurs",
        "btn_open_browser": "Ouvrir Navigateur",
        "status_running": "Statut : En cours d'execution",
        "status_stopped": "Statut : Arrete",
        "select_ply": "Selectionner fichier PLY",

        # Logs Tab
        "btn_clear_log": "Effacer logs",
        "btn_save_log": "Sauvegarder logs",
        "group_options": "Options",
        
        # Messages / Dialogs
        "msg_ready": "Pret",
        "msg_processing": "Traitement en cours...",
        "msg_stopping": "Arret en cours...",
        "msg_success": "Succes",
        "msg_error": "Erreur",
        "msg_warning": "Attention",
        "confirm_stop": "Voulez-vous vraiment arreter le processus en cours ?",
        "confirm_delete": "Voulez-vous vraiment supprimer le dataset ?\n\n{}\n\nCette action est irreversible!",
        "confirm_delete_nodata": "Le dossier ne semble pas contenir de dataset COLMAP.\nVoulez-vous quand meme le supprimer ?\n\n{}",
        "err_no_paths": "Veuillez selectionner les dossiers d'entree et de sortie",
        "err_path_not_exists": "Le dossier n'existe pas encore",
        "USER_CANCELLED": "Interrompu par l'utilisateur",
        "success_created": "Dataset cree : {}",
        "success_open_brush": "Vous pouvez maintenant l'ouvrir dans Brush!",
        "lang_restart": "Changement de langue : Le redemarrage de l'application est necessaire.",
        "lang_change": "Langue",

        # 4DGS Tab
        "tab_four_dgs": "4DGS",
        "four_dgs_header": "Préparation de données 4D Gaussian Splatting (4DGS) - Expérimental",
        "four_dgs_desc": "Ce module extrait des frames de vidéos synchronisées (multi-caméras), exécute COLMAP et prépare les données pour Nerfstudio (ns-process-data).\nChaque fichier vidéo du dossier source sera traité comme une caméra.",
        "four_dgs_warning_cuda": "⚠️ Note : Une machine compatible CUDA est requise pour l'étape finale d'entraînement.",
        "four_dgs_activate": "Activer le module 4DGS (Nécessite Nerfstudio ~4Go)",
        "four_dgs_group_src": "Source Vidéos",
        "four_dgs_files_ph": "Dossier contenant les fichiers vidéos (ex: /Users/moi/gopro_videos)",
        "four_dgs_group_dst": "Destination Dataset",
        "four_dgs_group_params": "Paramètres",
        "four_dgs_lbl_fps": "Extraction FPS :",
        "four_dgs_btn_stop": "Arrêter",
        "four_dgs_btn_colmap": "Relancer Reconstruction COLMAP (Seulement)",
        "four_dgs_msg_colmap_start": "Lancement de COLMAP sur : {}",
        "four_dgs_group_cfg": "Configuration",
        "four_dgs_btn_run": "Lancer Préparation 4DGS",
        "superplat_info": "SuperSplat (PlayCanvas)",
        "group_server_config": "Configuration Serveur",
        "lbl_splat_port": "Port SuperSplat :",
        "lbl_data_port": "Port Données :",
        "group_data": "Données à Visualiser",
        "placeholder_ply": "Chemin vers un fichier .ply ou dossier",
        "group_url_options": "Options de Vue",
        "check_no_ui": "Masquer l'interface (No UI)",
        "lbl_cam_pos": "Position Caméra :",
        "lbl_cam_rot": "Rotation Caméra :",
        "btn_start_server": "Démarrer Serveurs",
        "btn_stop_server": "Arrêter Serveurs",
        "btn_open_browser": "Ouvrir Navigateur",
        "status_stopped": "Statut : Arrêté",
        "status_running": "Statut : En cours d'exécution",
        "select_ply": "Selectionner fichier PLY",
        "msg_install_nerf": "Pour activer cette fonction, l'outil 'nerfstudio' (ns-process-data) doit être installé.\n\nCela nécessite environ 3 à 5 Go d'espace disque.\nVoulez-vous lancer l'installation maintenant ?",
        
        # Upscale Tab
        "tab_upscale": "Upscale",
        "upscale_title": "Configuration Upscale",
        "upscale_desc": "Activer l'agrandissement d'image par IA (Real-ESRGAN).",
        "upscale_activate": "Activer le module Upscale (Installe les dépendances)",
        "upscale_group_settings": "Paramètres Upscale",
        "upscale_lbl_model": "Modèle :",
        "upscale_desc_x4plus": "Version GAN : Textures réalistes et détails fins. Idéal pour photos et général.",
        "upscale_desc_x4net": "Version NET : Plus fidèle mais plus lisse (sans 'hallucinations'). Mieux pour le texte.",
        "upscale_desc_anime": "Spécialisé pour les dessins, cartoons et anime (6B).",
        "upscale_lbl_scale": "Zoom Final :",
        "upscale_scale_x4": "x4 (Défaut)",
        "upscale_scale_x2": "x2",
        "upscale_scale_x1": "x1 (Amélioration qualité sans zoom)",
        "upscale_tip_scale": "Définit la taille finale par rapport à l'original.\nx1 permet de débruiter/améliorer sans changer la taille.",
        "upscale_lbl_tile": "Protection RAM (Tile) :",
        "upscale_tip_tile": "0 = Auto (Rapide, gourmand)\n512/256 = Mode 'Tiling' (Lent, économe en RAM)\nUtilisez 512 ou moins si l'app plante sur de grosses images.",
        "upscale_lbl_profile": "Profil Performance",
        "upscale_tip_profile": "Configure automatiquement Tiling et Precision selon votre machine.",
        "upscale_lbl_fp16": "Demi-précision (FP16)",
        "upscale_tip_fp16": "Réduit la mémoire de moitié. Recommandé pour M1/M2/M3.",
        "upscale_check_face": "Amélioration Visages (GFPGAN)",
        "upscale_tip_face": "Détecte et restaure les visages spécifiquement.\nNécessite le modèle GFPGAN.",
        "upscale_install_title": "Installation",
        "upscale_install_msg": "Voulez-vous télécharger et installer les modules d'IA nécessaires (Torch, RealESRGAN) ?\nCela peut prendre plusieurs minutes (~2GB).",
        "upscale_uninstall_title": "Désactivation",
        "upscale_uninstall_msg": "Voulez-vous aussi DÉSINSTALLER les dépendances pour libérer de l'espace ?\n(Non = Juste désactiver l'option)",
        "upscale_installing": "Installation des modules IA...",
        "upscale_uninstalling": "Désinstallation...",
        "upscale_msg_installed": "Modules installés avec succès !",
        "upscale_msg_uninstalled": "Modules désinstallés.",
        "upscale_err_install": "L'installation a échoué.",
        "upscale_check_colmap": "Upscale (Real-ESRGAN)",
        "upscale_check_sharp": "Upscale Input (Real-ESRGAN)",
        "upscale_lbl_status": "Statut :",
        "upscale_btn_download": "Télécharger le modèle",
        "upscale_status_deps_missing": "⚠️ Dépendances manquantes (Relancez run.command)",
        "upscale_status_not_installed": "Module non installé",
        "upscale_status_available": "✅ Modèle disponible (Local)",
        "upscale_status_missing_model": "⚠️ Modèle manquant",
        "upscale_msg_downloading": "Téléchargement {}...",
        "upscale_msg_success_download": "Modèle téléchargé !",
        "upscale_msg_err_download": "Echec du téléchargement.\nVérifiez votre connexion.",
        "btn_cancel": "Annuler",
        
        # 360 Extractor Tab
        "tab_360": "360 Extractor",
        "tab_sharp": "Apple ML Sharp",
        "360_header": "Extraction Vidéo 360° (Expérimental)",
        "360_desc": "Convertit des vidéos/images 360° equirectangulaires en images planaires pour la photogrammétrie (COLMAP).",
        "360_activate": "Activer le module 360Extractor",
        "360_install_msg": "Voulez-vous installer le module 360Extractor ?\n(Nécessite PySide6, YOLO... dans un environnement dédié)",
        "360_uninstall_msg": "Voulez-vous désinstaller le module 360Extractor et son environnement ?",
        "360_group_params": "Paramètres d'Extraction",
        "360_lbl_interval": "Intervalle (sec) :",
        "360_lbl_resolution": "Résolution (px) :",
        "360_lbl_layout": "Disposition Caméras :",
        "360_layout_ring": "Anneau (Ring)",
        "360_layout_cube": "Cube Map",
        "360_layout_fib": "Fibonacci",
        "360_lbl_cameras": "Nb Caméras :",
        "360_lbl_quality": "Qualité JPEG :",
        "360_lbl_format": "Format :",
        "360_tip_interval": "Temps en secondes entre chaque extraction.\n(ex: 1.0 = 1 image toutes les secondes)",
        "360_tip_res": "Résolution des images extraites (ex: 2048x2048).\nPlus la résolution est haute, plus le traitement sera long.",
        "360_tip_layout": "Disposition géométrique des caméras virtuelles :\n- Ring (Cercle) : Idéal pour les plans horizontaux\n- Cube : Couverture complète\n- Fibonacci : Distribution sphérique uniforme",
        "360_tip_cameras": "Nombre de caméras virtuelles générées pour chaque position.\nAugmenter ce nombre améliore la couverture mais ralentit le processus.",
        "360_tip_quality": "Qualité de compression de l'image (1-100).\n95 est recommandé pour un bon équilibre qualité/poids.",
        "360_tip_format": "Format de fichier des images extraites.\nJPG est plus léger, PNG est sans perte.",
        "360_tip_ai_mask": "Utilise une IA (YOLO) pour masquer automatiquement les objets dynamiques\n(personnes, voitures, animaux) qui pourraient perturber la reconstruction 3D.",
        "360_tip_ai_skip": "Analyse la qualité de l'image et saute automatiquement\nles frames floues ou avec trop de mouvement.",
        "360_tip_adaptive": "Ajuste intelligemment l'intervalle d'extraction selon la vitesse de déplacement.\nPrend plus de photos quand la caméra tourne vite.",
        "360_tip_threshold": "Seuil de sensibilité pour la détection de mouvement (AI Skip/Adaptive).\nUne valeur plus basse rend la détection plus sensible.",
        "360_msg_install_ok": "Installation terminée avec succès.",
        "360_msg_uninstall_ok": "Désinstallation terminée avec succès.",
        "360_group_ai": "IA & Avancé",
        "360_check_ai_mask": "Masquer Opérateur (YOLO - Remove Operator)",
        "360_check_ai_skip": "Sauter images avec Opérateur (Skip Frame)",
        "360_check_adaptive": "Intervalle Adaptatif (Mouvement)",
        "360_lbl_threshold": "Seuil Mouvement :",
        "360_btn_extract_only": "Lancer Extraction (Standalone)",
        "360_msg_success": "Extraction terminée !",
        "360_status_installing": "Installation en cours...",
        "360_status_ready": "Prêt",
        "360_status_missing": "Non installé",
        "360_lbl_output": "Dossier Sortie :",
        
        # Sharp Tab
        "sharp_activate": "Activer Apple ML Sharp",
        "sharp_group_paths": "Chemins",
        "sharp_lbl_input": "Entrée (Img/Dossier) :",
        "sharp_placeholder_input": "Dossier d'images ou fichier image unique",
        "sharp_btn_folder": "Dossier",
        "sharp_btn_file": "Fichier",
        "sharp_lbl_output": "Sortie (Output) :",
        "sharp_placeholder_output": "Dossier de sortie pour les splats",
        "sharp_placeholder_ckpt": "Optionnel (Auto-download si vide)",
        "sharp_lbl_ckpt": "Checkpoint (.pt) :",
        "sharp_lbl_device": "Device :",
        "sharp_check_verbose": "Mode Verbose (Logs détaillés)",
        "sharp_btn_run": "Lancer Predict",
        "sharp_status_ready": "Moteur installé et prêt.",
        "sharp_status_missing": "Module non installé.",
        "sharp_install_title": "Installation Sharp",
        "sharp_install_msg": "Le module Apple ML Sharp nécessite un environnement Python dédié (~200MB).\nContinuer ?",
        "sharp_uninstall_title": "Désactivation Sharp",
        "sharp_uninstall_msg": "Voulez-vous supprimer les fichiers du module Sharp pour libérer de l'espace ?",
        "sharp_status_installing": "Installation de Sharp (venv)...",
        "sharp_msg_install_ok": "Sharp installé avec succès !",
        "sharp_msg_install_err": "Échec de l'installation de Sharp.",
        "sharp_status_uninstalling": "Suppression de Sharp...",
        "sharp_msg_uninstall_ok": "Sharp désinstallé.",
        "sharp_dlg_input_dir": "Dossier Images",
        "sharp_dlg_input_file": "Image Input",
        "sharp_dlg_output": "Dossier Sortie",
        "sharp_dlg_ckpt": "Checkpoint Sharp",
        "err_360_single_video": "Le mode 360 Extraction ne supporte qu'une vidéo à la fois.",
        
        # Config Tab - 360
        "check_source_360": "Source 360° (Pré-traitement) (Expérimental)",
        "tip_source_360": "Si coché, la vidéo d'entrée sera d'abord traitée par 360Extractor pour générer les images.",
        "360_processing": "Traitement 360° en cours...",
        
        # Sharp Tab
        "sharp_activate": "Activer Apple ML Sharp",
        "sharp_group_paths": "Chemins",
        "sharp_lbl_input": "Entrée (Img/Dossier) :",
        "sharp_placeholder_input": "Dossier d'images ou fichier image unique",
        "sharp_btn_folder": "Dossier",
        "sharp_btn_file": "Fichier",
        "sharp_lbl_output": "Sortie (Output) :",
        "sharp_placeholder_output": "Dossier de sortie pour les splats",
        "sharp_placeholder_ckpt": "Optionnel (Auto-download si vide)",
        "sharp_lbl_ckpt": "Checkpoint (.pt) :",
        "sharp_lbl_device": "Device :",
        "sharp_check_verbose": "Mode Verbose (Logs détaillés)",
        "sharp_btn_run": "Lancer Predict",
        "sharp_status_ready": "Moteur installé et prêt.",
        "sharp_status_missing": "Module non installé.",
        "sharp_install_title": "Installation Sharp",
        "sharp_install_msg": "Le module Apple ML Sharp nécessite un environnement Python dédié (~200MB).\nContinuer ?",
        "sharp_uninstall_title": "Désactivation Sharp",
        "sharp_uninstall_msg": "Voulez-vous supprimer les fichiers du module Sharp pour libérer de l'espace ?",
        "sharp_status_installing": "Installation de Sharp (venv)...",
        "sharp_msg_install_ok": "Sharp installé avec succès !",
        "sharp_msg_install_err": "Échec de l'installation de Sharp.",
        "sharp_status_uninstalling": "Suppression de Sharp...",
        "sharp_msg_uninstall_ok": "Sharp désinstallé.",
        "sharp_dlg_input_dir": "Dossier Images",
        "sharp_dlg_input_file": "Image Input",
        "sharp_dlg_output": "Dossier Sortie",
        "sharp_dlg_ckpt": "Checkpoint Sharp",

        # CLI Strings
        "cli_desc": "CorbeauSplat v0.16 - CLI & GUI Toolkit",
        "cli_gui_help": "Lancer l'interface graphique (Défaut si aucun argument)",
        "cli_train_help": "Mode BRUSH: Entraîner un splat",
        "cli_predict_help": "Mode SHARP: Prédire un splat (Image -> 3D)",
        "cli_view_help": "Mode SUPERSPLAT: Visualiser un fichier PLY",
        "cli_input_help": "Fichier/Dossier d'entrée",
        "cli_output_help": "Fichier/Dossier de sortie",
        "cli_type_help": "Type d'entrée",
        "cli_fps_help": "FPS extraction vidéo",
        "cli_cam_help": "Modèle caméra",
        "cli_undistort_help": "Active l'undistortion",
        "cli_iter_help": "Nombre d'itérations",
        "cli_sh_degree_help": "Degré des harmoniques sphériques",
        "cli_checkpoint_help": "Chemin vers un checkpoint (.pt)",
        "cli_port_help": "Port du serveur web",
        "cli_data_port_help": "Port du serveur de données",
        "cli_err_colmap_args": "Erreur: --input et --output sont requis pour COLMAP.",
        "cli_err_brush_args": "Erreur: --input (dossier colmap) et --output (dossier destination) sont requis pour BRUSH.",
        "cli_err_sharp_args": "Erreur: --input (image) et --output (dossier) sont requis pour SHARP.",
        "cli_err_view_args": "Erreur: --input (fichier .ply ou dossier) est requis pour SUPERSPLAT.",
        "cli_start_colmap": "--- Démarrage COLMAP ---",
        "cli_start_brush": "--- Démarrage BRUSH Training ---",
        "cli_start_sharp": "--- Démarrage SHARP Prediction ---",
        "cli_start_view": "--- Démarrage SUPERSPLAT ---",
        "cli_input": "Entrée : {}",
        "cli_output": "Sortie : {}",
        "cli_progression": "Progression : {}%",
        "cli_success": "\nSUCCÈS : {}",
        "cli_error": "\nERREUR : {}",
        "cli_stopping": "\nArrêt demandé...",
        "cli_server_stop": "\nArrêt des serveurs...",
    },
    "en": {
        # ... (previous translation ending)
        # Tabs
        "tab_config": "Training",
        "tab_params": "COLMAP Parameters",
        "tab_logs": "Logs",
        
        # Header
        "app_title": "CorbeauSplat",
        
        # Config Tab - Inputs
        "group_input": "Input Data",
        "label_project_name": "Project Name:",
        "label_type": "Type:",
        "radio_images": "Images",
        "radio_video": "Video",
        "label_path": "Folder/File:",
        "btn_browse": "Browse",
        "label_fps": "Video extraction FPS:",
        
        # Config Tab - Outputs
        "group_output": "Output",
        "label_out_path": "Output Folder:",
        "btn_delete": "Delete Existing Dataset",
        "check_undistort": "Generate undistorted images (for dense reconstruction)",
        
        # Config Tab - Actions
        "btn_process": "Create COLMAP Dataset",
        "btn_stop": "Stop",
        "btn_save_cfg": "Save Config",
        "btn_load_cfg": "Load Config",
        "btn_open_brush": "Open in Brush",
        "btn_quit": "Quit",
        "btn_quit": "Quit",
        "btn_relaunch": "Relaunch",
        "btn_reset": "Factory Reset",
        "confirm_reset": "⚠️ Full Factory Reset\n\nThis action will:\n1. Delete virtual environments (.venv, .venv_sharp).\n2. Clean temporary files.\n3. Relaunch installation (Apple Silicon Optimized).\n\nRecommended for dependency issues (e.g. Numpy/Pytorch).",
        "opt_jit_enabled": "JIT Enabled (Python 3.13+)",
        "opt_jit_disabled": "JIT Disabled (Recommended: Python 3.13)",
        
        # Params Tab
        "info_cpu": "Apple Silicon detected - {} threads optimized",
        "group_extract": "Feature Extraction",
        "lbl_camera_model": "Camera Model:",
        "check_single_cam": "Single Camera:",
        "lbl_max_img": "Max Image Size:",
        "lbl_max_feat": "Max Features:",
        "check_force_cpu": "Force CPU:",
        "check_affine": "Affine Shape:",
        "check_domain": "Domain Pooling:",
        
        "group_match": "Feature Matching",
        "lbl_match_type": "Matching Type:",
        "lbl_max_ratio": "Max Ratio:",
        "lbl_max_dist": "Max Distance:",
        "check_cross": "Cross Check:",
        "check_guided": "Guided Matching (unsupported):",
        
        "group_mapper": "Reconstruction (Mapper)",
        "lbl_min_model": "Min Model Size:",
        "check_multi_model": "Multiple Models:",
        "check_focal": "Refine Focal:",
        "check_principal": "Refine Principal:",
        "check_extra": "Refine Extra:",
        "lbl_min_match": "Min Matches:",
        "check_use_glomap": "Use Glomap (Experimental)",
        "lbl_glomap": "GLOMAP:",
        
        # Brush Tab
        "tab_brush": "Brush",
        "brush_detected": "Brush engine detected: {}",
        "brush_not_found": "Warning: 'brush' executable not found in engines/ or PATH",
        "brush_params": "Training parameters",
        "brush_iterations": "Iterations:",
        "brush_args": "Extra args:",
        "brush_viewer": "Enable visualizer during training",
        "btn_train_brush": "Start Brush Training",
        "check_auto_brush": "Auto-start Brush training",
        "msg_brush_start": "Starting Brush on: {}",
        "msg_brush_out": "Brush Output: {}",
        "check_brush_independent": "Manual / Independent Mode",
        "brush_group_paths": "Paths (Manual Mode)",
        "brush_lbl_input": "Dataset Folder (sparse+images):",
        "brush_lbl_output": "Export Folder:",
        "brush_lbl_ply": "PLY Filename (optional):",
        "brush_sh_degree": "SH Degree:",
        "brush_device": "Device:",
        "brush_lbl_res": "Max Resolution:",
        "brush_res_warn": "0 = default resolution (1080)",
        "brush_res_default": "0",
        
        # Brush Densification
        "brush_group_densify": "Densification & Advanced",
        "brush_lbl_preset": "Preset:",
        "brush_preset_default": "Default",
        "brush_preset_fast": "Quick Test (15k)",
        "brush_preset_std": "Standard (30k)",
        "brush_preset_dense": "Aggressive Densification",
        "brush_init_ply": "Init PLY File:",
        "brush_btn_init_ply": "Choose .ply...",
        "brush_lbl_mode": "Training Mode:",
        "brush_mode_new": "Start New Training (From Scratch)",
        "brush_mode_refine": "Refine / Continue (Auto)",
        "brush_check_refine": "Refine from latest checkpoint (Auto)",
        "brush_check_details": "Show Advanced Details",
        "brush_lbl_steps": "Total Steps:",
        "brush_lbl_start": "Start Iter:",
        "brush_lbl_refine": "Refine Every:",
        "brush_lbl_threshold": "Growth Threshold:",
        "brush_lbl_fraction": "Growth Fraction:",
        "brush_lbl_stop": "Growth Stop Iter:",
        "brush_lbl_max_splats": "Max Splats:",
        "brush_lbl_ckpt_interval": "Save Checkpoint Every:",
        "brush_check_details": "Show Advanced Details",
        "brush_sh_degree": "SH Degree:",
        "brush_device": "Device:",
        "brush_tip_device": "Device (auto, mps, cpu...)",
        "brush_tip_mode": "New training: Creates a new model.\nRefine: Continues from the latest checkpoint found.",
        "brush_tip_res": "Define a resolution limit (longest side). Leave at 0 for default.",
        
        # SuperSplat Tab
        "tab_supersplat": "SuperSplat",
        "superplat_info": "SuperSplat is a web tool developed by PlayCanvas to edit and visualize Gaussian Splats.\nThis module launches a local server.",
        "group_server_config": "Server Config",
        "lbl_splat_port": "SuperSplat Port:",
        "lbl_data_port": "Data Port:",
        "group_data": "Data to Visualize",
        "placeholder_ply": "Path to .ply file or folder",
        "group_url_options": "View Options",
        "check_no_ui": "Hide UI (No UI)",
        "lbl_cam_pos": "Camera Position:",
        "lbl_cam_rot": "Camera Rotation:",
        "btn_start_server": "Start Servers",
        "btn_stop_server": "Stop Servers",
        "btn_open_browser": "Open Browser",
        "status_running": "Status: Running",
        "status_stopped": "Status: Stopped",
        "select_ply": "Select PLY File",

        # Logs Tab
        "btn_clear_log": "Clear Logs",
        "btn_save_log": "Save Logs",
        "group_options": "Options",
        
        # Messages / Dialogs
        "msg_ready": "Ready",
        "msg_processing": "Processing...",
        "msg_stopping": "Stopping...",
        "msg_success": "Success",
        "msg_error": "Error",
        "msg_warning": "Warning",
        "confirm_stop": "Do you really want to stop the current process?",
        "confirm_delete": "Do you really want to delete the dataset?\n\n{}\n\nThis action is irreversible!",
        "confirm_delete_nodata": "The folder does not seem to contain a COLMAP dataset.\nDo you want to delete it anyway?\n\n{}",
        "err_no_paths": "Please select input and output folders",
        "err_path_not_exists": "Folder does not exist yet",
        "USER_CANCELLED": "Cancelled by user",
        "success_created": "Dataset created: {}",
        "success_open_brush": "You can now open it in Brush!",
        "lang_restart": "Language change: Application restart is required.",
        "lang_change": "Language",

        # 4DGS Tab
        "tab_four_dgs": "4DGS",
        "four_dgs_header": "4D Gaussian Splatting Data Preparation (4DGS) - Experimental",
        "four_dgs_desc": "This module extracts frames from synchronized videos (multi-camera), runs COLMAP, and prepares data for Nerfstudio (ns-process-data).\nEach video file in the source folder will be treated as a camera.",
        "four_dgs_warning_cuda": "⚠️ Note: A CUDA-compatible machine is required for the final training step.",
        "four_dgs_activate": "Activate 4DGS Module (Requires Nerfstudio ~4GB)",
        "four_dgs_group_src": "Source Videos",
        "four_dgs_files_ph": "Folder containing video files (e.g. /Users/me/gopro_videos)",
        "four_dgs_group_dst": "Dataset Destination",
        "four_dgs_group_params": "Parameters",
        "four_dgs_lbl_fps": "Extraction FPS:",
        "four_dgs_btn_stop": "Stop",
        "four_dgs_btn_colmap": "Relaunch COLMAP Reconstruction (Only)",
        "four_dgs_msg_colmap_start": "Running COLMAP on: {}",
        "four_dgs_group_cfg": "Configuration",
        "four_dgs_btn_run": "Run 4DGS Preparation",
        "superplat_info": "SuperSplat (PlayCanvas)",
        "group_server_config": "Server Configuration",
        "lbl_splat_port": "SuperSplat Port:",
        "lbl_data_port": "Data Port:",
        "group_data": "Data to Visualize",
        "placeholder_ply": "Path to a .ply file or folder",
        "group_url_options": "View Options",
        "check_no_ui": "Hide UI (No UI)",
        "lbl_cam_pos": "Camera Position:",
        "lbl_cam_rot": "Camera Rotation:",
        "btn_start_server": "Start Servers",
        "btn_stop_server": "Stop Servers",
        "btn_open_browser": "Open Browser",
        "status_stopped": "Status: Stopped",
        "status_running": "Status: Running",
        "select_ply": "Select PLY file",
        "msg_install_nerf": "To activate this function, the tool 'nerfstudio' (ns-process-data) must be installed.\n\nThis requires approximately 3 to 5 GB of disk space.\nDo you want to start the installation now?",
        
        # Upscale Tab
        "tab_upscale": "Upscale",
        "upscale_title": "Upscale Configuration",
        "upscale_desc": "Enable AI Image Upscaling (Real-ESRGAN).",
        "upscale_activate": "Activate Upscale Module (Installs dependencies)",
        "upscale_group_settings": "Upscale Settings",
        "upscale_lbl_model": "Model:",
        "upscale_desc_x4plus": "GAN Version: Realistic textures and fine details. Best for photos and general use.",
        "upscale_desc_x4net": "NET Version: Higher fidelity but smoother (no 'hallucinations'). Better for text.",
        "upscale_desc_anime": "Specialized for drawings, cartoons and anime (6B).",
        "upscale_lbl_scale": "Final Zoom:",
        "upscale_scale_x4": "x4 (Default)",
        "upscale_scale_x2": "x2",
        "upscale_scale_x1": "x1 (Quality enhancement only)",
        "upscale_tip_scale": "Defines final size relative to original.\nx1 denoises/enhances without changing size.",
        "upscale_lbl_tile": "RAM Protection (Tile):",
        "upscale_tip_tile": "0 = Auto (Fast, heavy)\n512/256 = 'Tiling' Mode (Slow, RAM efficient)\nUse 512 or less if app crashes on large images.",
        "upscale_lbl_profile": "Performance Profile",
        "upscale_tip_profile": "Automatically configures Tiling and Precision based on your hardware.",
        "upscale_lbl_fp16": "Half-Precision (FP16)",
        "upscale_tip_fp16": "Reduces memory by half. Recommended for M1/M2/M3.",
        "upscale_check_face": "Face Enhancement (GFPGAN)",
        "upscale_tip_face": "Detects and restores faces specifically.\nRequires GFPGAN model.",
        "upscale_install_title": "Installation",
        "upscale_install_msg": "Do you want to download and install required AI modules (Torch, RealESRGAN)?\nThis may take a few minutes (~2GB).",
        "upscale_uninstall_title": "Deactivation",
        "upscale_uninstall_msg": "Do you also want to UNINSTALL dependencies to free up space?\n(No = Just disable option)",
        "upscale_installing": "Installing AI modules...",
        "upscale_uninstalling": "Uninstalling...",
        "upscale_msg_installed": "Modules installed successfully!",
        "upscale_msg_uninstalled": "Modules uninstalled.",
        "upscale_err_install": "Installation failed.",
        "upscale_check_colmap": "Upscale (Real-ESRGAN)",
        "upscale_check_sharp": "Upscale Input (Real-ESRGAN)",
        "upscale_lbl_status": "Status:",
        "upscale_btn_download": "Download Model",
        "upscale_status_deps_missing": "⚠️ Dependencies missing (Relaunch run.command)",
        "upscale_status_not_installed": "Module not installed",
        "upscale_status_available": "✅ Model available (Local)",
        "upscale_status_missing_model": "⚠️ Model missing",
        "upscale_msg_downloading": "Downloading {}...",
        "upscale_msg_success_download": "Model downloaded!",
        "upscale_msg_err_download": "Download failed.\nCheck your connection.",
        "btn_cancel": "Cancel",
        
        # 360 Extractor Tab
        "tab_360": "360 Extractor",
        "tab_sharp": "Apple ML Sharp",
        "360_header": "360° Video Extraction (Experimental)",
        "360_desc": "Converts 360° equirectangular videos/images into planar images for photogrammetry (COLMAP).",
        "360_activate": "Activate 360Extractor Module",
        "360_install_msg": "Do you want to install the 360Extractor module?\n(Requires PySide6, YOLO... in a dedicated environment)",
        "360_uninstall_msg": "Do you want to uninstall the 360Extractor module and its environment?",
        "360_group_params": "Extraction Parameters",
        "360_lbl_interval": "Interval (sec):",
        "360_lbl_resolution": "Resolution (px):",
        "360_lbl_layout": "Camera Layout:",
        "360_layout_ring": "Ring",
        "360_layout_cube": "Cube Map",
        "360_layout_fib": "Fibonacci",
        "360_lbl_cameras": "Cam Count:",
        "360_lbl_quality": "JPEG Quality:",
        "360_lbl_format": "Format:",
        "360_tip_interval": "Time in seconds between each extraction.\n(e.g., 1.0 = 1 image every second)",
        "360_tip_res": "Resolution of extracted images (e.g., 2048x2048).\nHigher resolution increases processing time.",
        "360_tip_layout": "Geometric layout of virtual cameras:\n- Ring: Ideal for horizontal panoramas\n- Cube: Full 360 coverage\n- Fibonacci: Uniform spherical distribution",
        "360_tip_cameras": "Number of virtual cameras generated for each position.\nIncreasing this improves coverage but slows down the process.",
        "360_tip_quality": "Image compression quality (1-100).\n95 is recommended for a good balance.",
        "360_tip_format": "File format for extracted images.\nJPG is lighter, PNG is lossless.",
        "360_tip_ai_mask": "Uses AI (YOLO) to automatically mask dynamic objects\n(people, cars, animals) that could disrupt 3D reconstruction.",
        "360_tip_ai_skip": "Analyzes image quality and automatically skips\nblurry frames or those with too much motion.",
        "360_tip_adaptive": "Intelligently adjusts extraction interval based on movement speed.\nTakes more photos when the camera turns fast.",
        "360_tip_threshold": "Sensitivity threshold for motion detection (AI Skip/Adaptive).\nA lower value makes detection more sensitive.",
        "360_msg_install_ok": "Installation completed successfully.",
        "360_msg_uninstall_ok": "Uninstallation completed successfully.",
        "360_group_ai": "AI & Advanced",
        "360_check_ai_mask": "Mask Operator (YOLO - Remove Operator)",
        "360_check_ai_skip": "Skip Frame with Operator",
        "360_check_adaptive": "Adaptive Interval (Motion)",
        "360_lbl_threshold": "Motion Threshold:",
        "360_btn_extract_only": "Run Extraction (Standalone)",
        "360_msg_success": "Extraction finished!",
        "360_status_installing": "Installing...",
        "360_status_ready": "Ready",
        "360_status_missing": "Not installed",
        "360_lbl_input": "Source Video:",
        "360_lbl_output": "Output Folder:",
        "err_360_single_video": "360 Extraction mode supports only one video at a time.",

        # Config Tab - 360
        "check_source_360": "360° Source (Pre-processing) (Experimental)",
        "tip_source_360": "If checked, input video will be processed by 360Extractor first to generate images.",
        "360_processing": "Processing 360° video...",

        # Sharp Tab
        "sharp_activate": "Enable Apple ML Sharp",
        "sharp_group_paths": "Paths",
        "sharp_lbl_input": "Input (Img/Folder):",
        "sharp_placeholder_input": "Image folder or single image file",
        "sharp_btn_folder": "Folder",
        "sharp_btn_file": "File",
        "sharp_lbl_output": "Output:",
        "sharp_placeholder_output": "Output folder for splats",
        "sharp_placeholder_ckpt": "Optional (Auto-download if empty)",
        "sharp_lbl_ckpt": "Checkpoint (.pt):",
        "sharp_lbl_device": "Device:",
        "sharp_check_verbose": "Verbose Mode (Detailed logs)",
        "sharp_btn_run": "Run Predict",
        "sharp_status_ready": "Engine installed and ready.",
        "sharp_status_missing": "Module not installed.",
        "sharp_install_title": "Sharp Installation",
        "sharp_install_msg": "Apple ML Sharp module requires a dedicated Python environment (~200MB).\nContinue?",
        "sharp_uninstall_title": "Sharp Deactivation",
        "sharp_uninstall_msg": "Do you want to delete Sharp module files to free up space?",
        "sharp_status_installing": "Installing Sharp (venv)...",
        "sharp_msg_install_ok": "Sharp installed successfully!",
        "sharp_msg_install_err": "Failed to install Sharp.",
        "sharp_status_uninstalling": "Removing Sharp...",
        "sharp_msg_uninstall_ok": "Sharp uninstalled.",
        "sharp_dlg_input_dir": "Images Folder",
        "sharp_dlg_input_file": "Image Input",
        "sharp_dlg_output": "Output Folder",
        "sharp_dlg_ckpt": "Sharp Checkpoint",

        # CLI Strings
        "cli_desc": "CorbeauSplat v0.16 - CLI & GUI Toolkit",
        "cli_gui_help": "Launch GUI (Default if no arguments)",
        "cli_train_help": "BRUSH Mode: Train a splat",
        "cli_predict_help": "SHARP Mode: Predict a splat (Image -> 3D)",
        "cli_view_help": "SUPERSPLAT Mode: Visualize a PLY file",
        "cli_input_help": "Input file/folder",
        "cli_output_help": "Output file/folder",
        "cli_type_help": "Input type",
        "cli_fps_help": "Video extraction FPS",
        "cli_cam_help": "Camera model",
        "cli_undistort_help": "Enable undistortion",
        "cli_iter_help": "Number of iterations",
        "cli_sh_degree_help": "Spherical harmonics degree",
        "cli_checkpoint_help": "Path to a checkpoint (.pt)",
        "cli_port_help": "Web server port",
        "cli_data_port_help": "Data server port",
        "cli_err_colmap_args": "Error: --input and --output are required for COLMAP.",
        "cli_err_brush_args": "Error: --input (colmap folder) and --output (destination folder) are required for BRUSH.",
        "cli_err_sharp_args": "Error: --input (image) and --output (folder) are required for SHARP.",
        "cli_err_view_args": "Error: --input (.ply file or folder) is required for SUPERSPLAT.",
        "cli_start_colmap": "--- Starting COLMAP ---",
        "cli_start_brush": "--- Starting BRUSH Training ---",
        "cli_start_sharp": "--- Starting SHARP Prediction ---",
        "cli_start_view": "--- Starting SUPERSPLAT ---",
        "cli_input": "Input: {}",
        "cli_output": "Output: {}",
        "cli_progression": "Progress: {}%",
        "cli_success": "\nSUCCESS: {}",
        "cli_error": "\nERROR: {}",
        "cli_stopping": "\nStopping requested...",
        "cli_server_stop": "\nStopping servers...",
    },
    "de": {
        # Tabs
        "tab_config": "Konfiguration",
        "tab_params": "COLMAP-Parameter",
        "tab_logs": "Protokolle",
        
        # Header
        "app_title": "CorbeauSplat",
        
        # Config Tab - Inputs
        "group_input": "Eingabedaten",
        "label_project_name": "Projektname:",
        "label_type": "Typ:",
        "radio_images": "Bilder",
        "radio_video": "Video",
        "label_path": "Ordner/Datei:",
        "btn_browse": "Durchsuchen",
        "label_fps": "Video-Extraktion FPS:",
        
        # Config Tab - Outputs
        "group_output": "Ausgabe",
        "label_out_path": "Ausgabeordner:",
        "btn_delete": "Vorhandenes Dataset löschen",
        "check_undistort": "Undistorted Bilder generieren (für Dense Reconstruction)",
        
        # Config Tab - Actions
        "btn_process": "COLMAP Dataset erstellen",
        "btn_stop": "Stopp",
        "btn_save_cfg": "Konfiguration speichern",
        "btn_load_cfg": "Konfiguration laden",
        "btn_open_brush": "In Brush öffnen",
        "btn_quit": "Beenden",
        "btn_relaunch": "Neu starten",
        "btn_reset": "Werkseinstellungen",
        "confirm_reset": "⚠️ Vollständige Werkseinstellung\n\nDiese Aktion wird:\n1. Virtuelle Umgebungen (.venv, .venv_sharp) löschen.\n2. Temporäre Dateien bereinigen.\n3. Installation neu starten (Apple Silicon optimiert).\n\nEmpfohlen bei Abhängigkeitsproblemen (z. B. Numpy/Pytorch).",
        "opt_jit_enabled": "JIT aktiviert (Python 3.13+)",
        "opt_jit_disabled": "JIT inaktiv (Empfohlen: Python 3.13)",
        
        # Params Tab
        "info_cpu": "Apple Silicon erkannt - {} Threads optimiert",
        "group_extract": "Feature-Extraktion",
        "lbl_camera_model": "Kameramodell:",
        "check_single_cam": "Einzelne Kamera:",
        "lbl_max_img": "Maximale Bildgröße:",
        "lbl_max_feat": "Maximale Features:",
        "check_force_cpu": "CPU erzwingen:",
        "check_affine": "Affine Shape:",
        "check_domain": "Domain Pooling:",
        
        "group_match": "Feature Matching",
        "lbl_match_type": "Matching-Typ:",
        "lbl_max_ratio": "Max Ratio:",
        "lbl_max_dist": "Max Distanz:",
        "check_cross": "Cross-Check:",
        "check_guided": "Guided Matching (nicht unterstützt):",
        
        "group_mapper": "Rekonstruktion (Mapper)",
        "lbl_min_model": "Min. Modellgröße:",
        "check_multi_model": "Mehrere Modelle:",
        "check_focal": "Frennbrennweite verfeinern:",
        "check_principal": "Hauptpunkt verfeinern:",
        "check_extra": "Extra-Parameter verfeinern:",
        "lbl_min_match": "Min. Matches:",
        "check_use_glomap": "Glomap verwenden (Experimentell)",
        "lbl_glomap": "GLOMAP:",
        
        # Brush Tab
        "tab_brush": "Brush",
        "brush_detected": "Brush-Engine erkannt: {}",
        "brush_not_found": "Warnung: 'brush' ausführbare Datei nicht in engines/ oder PATH gefunden",
        "brush_params": "Training-Parameter",
        "brush_iterations": "Iterationen:",
        "brush_args": "Zusätzliche Argumente:",
        "brush_viewer": "Visualisierung während des Trainings aktivieren",
        "btn_train_brush": "Brush-Training starten",
        "check_auto_brush": "Brush-Training automatisch starten",
        "msg_brush_start": "Brush wird gestartet auf: {}",
        "msg_brush_out": "Brush-Ausgabe: {}",
        "check_brush_independent": "Manueller / Unabhängiger Modus",
        "brush_group_paths": "Pfade (Manueller Modus)",
        "brush_lbl_input": "Dataset-Ordner (sparse+images):",
        "brush_lbl_output": "Export-Ordner:",
        "brush_lbl_ply": "PLY-Dateiname (optional):",
        "brush_sh_degree": "SH-Grad:",
        "brush_device": "Gerät:",
        "brush_lbl_res": "Maximale Auflösung:",
        "brush_res_warn": "0 = Standardauflösung (1080)",
        "brush_res_default": "0",
        
        # Brush Densification
        "brush_group_densify": "Densifizierung & Fortgeschritten",
        "brush_lbl_preset": "Voreinstellung:",
        "brush_preset_default": "Standard",
        "brush_preset_fast": "Schnelltest (15k)",
        "brush_preset_std": "Standard (30k)",
        "brush_preset_dense": "Aggressive Densifizierung",
        "brush_init_ply": "Initiale PLY-Datei:",
        "brush_btn_init_ply": ".ply auswählen...",
        "brush_lbl_mode": "Training-Modus:",
        "brush_mode_new": "Neues Training (Von Grund auf)",
        "brush_mode_refine": "Verfeinern / Fortsetzen (Auto)",
        "brush_check_refine": "Ab dem letzten Checkpoint verfeinern (Auto)",
        "brush_check_details": "Erweiterte Details anzeigen",
        "brush_lbl_steps": "Gesamtschritte:",
        "brush_lbl_start": "Start-Iteration:",
        "brush_lbl_refine": "Alle X verfeinern:",
        "brush_lbl_threshold": "Wachstumsschwellenwert:",
        "brush_lbl_fraction": "Wachstumsfraktion:",
        "brush_lbl_stop": "Wachstumsstopp-Iteration:",
        "brush_lbl_max_splats": "Max. Splats:",
        "brush_lbl_ckpt_interval": "Checkpoint speichern alle:",
        "brush_tip_device": "Gerät (auto, mps, cpu...)",
        "brush_tip_mode": "Neues Training: Erstellt ein neues Modell.\nVerfeinern: Setzt das Training ab dem letzten gefundenen Checkpoint fort.",
        "brush_tip_res": "Definieren Sie ein Auflösungslimit (längste Seite). Für Standard auf 0 lassen.",
        
        # SuperSplat Tab
        "tab_supersplat": "SuperSplat",
        "superplat_info": "SuperSplat ist ein Web-Tool, das von PlayCanvas entwickelt wurde, um Gaussian Splats zu bearbeiten und zu visualisieren.\nDieses Modul startet einen lokalen Server.",
        "group_server_config": "Server-Konfiguration",
        "lbl_splat_port": "SuperSplat-Port:",
        "lbl_data_port": "Daten-Port:",
        "group_data": "Zu visualisierende Daten",
        "placeholder_ply": "Pfad zur .ply-Datei oder zum Ordner",
        "group_url_options": "Ansichtsoptionen",
        "check_no_ui": "Interface ausblenden (No UI)",
        "lbl_cam_pos": "Kameraposition:",
        "lbl_cam_rot": "Kamerarotation:",
        "btn_start_server": "Server starten",
        "btn_stop_server": "Server stoppen",
        "btn_open_browser": "Browser öffnen",
        "status_running": "Status: Läuft",
        "status_stopped": "Status: Gestoppt",
        "select_ply": "PLY-Datei auswählen",

        # Logs Tab
        "btn_clear_log": "Protokolle löschen",
        "btn_save_log": "Protokolle speichern",
        "group_options": "Optionen",
        
        # Messages / Dialogs
        "msg_ready": "Bereit",
        "msg_processing": "Verarbeitung...",
        "msg_stopping": "Stoppen...",
        "msg_success": "Erfolg",
        "msg_error": "Fehler",
        "msg_warning": "Warnung",
        "confirm_stop": "Möchten Sie den aktuellen Prozess wirklich stoppen?",
        "confirm_delete": "Möchten Sie das Dataset wirklich löschen?\n\n{}\n\nDiese Aktion ist unwiderruflich!",
        "confirm_delete_nodata": "Der Ordner scheint kein COLMAP-Dataset zu enthalten.\nMöchten Sie ihn trotzdem löschen?\n\n{}",
        "err_no_paths": "Bitte wählen Sie Eingabe- und Ausgabeordner aus",
        "err_path_not_exists": "Ordner existiert noch nicht",
        "USER_CANCELLED": "Vom Benutzer abgebrochen",
        "success_created": "Dataset erstellt: {}",
        "success_open_brush": "Sie können es nun in Brush öffnen!",
        "lang_restart": "Sprachänderung: Ein Neustart der Anwendung ist erforderlich.",
        "lang_change": "Sprache",

        # 4DGS Tab
        "tab_four_dgs": "4DGS",
        "four_dgs_header": "4D Gaussian Splatting Datenaufbereitung (4DGS) - Experimentell",
        "four_dgs_desc": "Dieses Modul extrahiert Frames aus synchronisierten Videos (Multi-Kamera), führt COLMAP aus und bereitet Daten für Nerfstudio vor (ns-process-data).\nJede Videodatei im Quellordner wird als Kamera behandelt.",
        "four_dgs_warning_cuda": "⚠️ Hinweis: Ein CUDA-kompatibler Rechner ist für den abschließenden Training-Schritt erforderlich.",
        "four_dgs_activate": "4DGS-Modul aktivieren (Benötigt Nerfstudio ~4GB)",
        "four_dgs_group_src": "Quellvideos",
        "four_dgs_files_ph": "Ordner mit Videodateien (z. B. /Users/me/gopro_videos)",
        "four_dgs_group_dst": "Dataset-Zielort",
        "four_dgs_group_params": "Parameter",
        "four_dgs_lbl_fps": "Extraktion FPS:",
        "four_dgs_btn_stop": "Stopp",
        "four_dgs_btn_colmap": "COLMAP-Rekonstruktion neu starten (Nur)",
        "four_dgs_msg_colmap_start": "COLMAP wird ausgeführt auf: {}",
        "four_dgs_group_cfg": "Konfiguration",
        "four_dgs_btn_run": "4DGS-Vorbereitung starten",
        "msg_install_nerf": "Um diese Funktion zu aktivieren, muss das Tool 'nerfstudio' (ns-process-data) installiert sein.\n\nDies erfordert etwa 3 bis 5 GB Speicherplatz.\nMöchten Sie die Installation jetzt starten?",
        
        # Upscale Tab
        "tab_upscale": "Upscale",
        "upscale_title": "Upscale-Konfiguration",
        "upscale_desc": "KI-Bild-Upscaling aktivieren (Real-ESRGAN).",
        "upscale_activate": "Upscale-Modul aktivieren (Installiert Abhängigkeiten)",
        "upscale_group_settings": "Upscale-Einstellungen",
        "upscale_lbl_model": "Modell:",
        "upscale_desc_x4plus": "GAN-Version: Realistische Texturen und feine Details. Am besten für Fotos und Allgemeines.",
        "upscale_desc_x4net": "NET-Version: Höhere Treue, aber glatter (keine 'Halluzinationen'). Besser für Text.",
        "upscale_desc_anime": "Spezialisiert auf Zeichnungen, Cartoons und Anime (6B).",
        "upscale_lbl_scale": "Endgültiger Zoom:",
        "upscale_scale_x4": "x4 (Standard)",
        "upscale_scale_x2": "x2",
        "upscale_scale_x1": "x1 (Nur Qualitätsverbesserung)",
        "upscale_tip_scale": "Definiert die Endgröße relativ zum Original.\nx1 bereinigt von Rauschen/verbessert ohne Größenänderung.",
        "upscale_lbl_tile": "RAM-Schutz (Tile):",
        "upscale_tip_tile": "0 = Auto (Schnell, schwer)\n512/256 = 'Tiling'-Modus (Langsam, ressourcensparend)\nVerwenden Sie 512 oder weniger, wenn die App bei großen Bildern abstürzt.",
        "upscale_lbl_profile": "Leistungsprofil",
        "upscale_tip_profile": "Konfiguriert automatisch Tiling und Präzision basierend auf Ihrer Hardware.",
        "upscale_lbl_fp16": "Halbe Präzision (FP16)",
        "upscale_tip_fp16": "Reduziert den Speicher um die Hälfte. Empfohlen für M1/M2/M3.",
        "upscale_check_face": "Gesichtsverbesserung (GFPGAN)",
        "upscale_tip_face": "Erkennt und restauriert Gesichter gezielt.\nBenötigt GFPGAN-Modell.",
        "upscale_install_title": "Installation",
        "upscale_install_msg": "Möchten Sie die erforderlichen KI-Module (Torch, RealESRGAN) herunterladen und installieren?\nDies kann einige Minuten dauern (~2GB).",
        "upscale_uninstall_title": "Deaktivierung",
        "upscale_uninstall_msg": "Möchten Sie auch die Abhängigkeiten DEINSTALLIEREN, um Platz freizugeben?\n(Nein = Option nur deaktivieren)",
        "upscale_installing": "KI-Module werden installiert...",
        "upscale_uninstalling": "Deinstallation...",
        "upscale_msg_installed": "Module erfolgreich installiert!",
        "upscale_msg_uninstalled": "Module deinstalliert.",
        "upscale_err_install": "Installation fehlgeschlagen.",
        "upscale_check_colmap": "Upscale (Real-ESRGAN)",
        "upscale_check_sharp": "Upscale Eingabe (Real-ESRGAN)",
        "upscale_lbl_status": "Status:",
        "upscale_btn_download": "Modell herunterladen",
        "upscale_status_deps_missing": "⚠️ Abhängigkeiten fehlen (Neu starten run.command)",
        "upscale_status_not_installed": "Modul nicht installiert",
        "upscale_status_available": "✅ Modell verfügbar (Lokal)",
        "upscale_status_missing_model": "⚠️ Modell fehlt",
        "upscale_msg_downloading": "Herunterladen {}...",
        "upscale_msg_success_download": "Modell heruntergeladen!",
        "upscale_msg_err_download": "Download fehlgeschlagen.\nPrüfen Sie Ihre Verbindung.",
        "btn_cancel": "Abbrechen",
        
        # 360 Extractor Tab
        "tab_360": "360-Extraktor",
        "tab_sharp": "Apple ML Sharp",
        "360_header": "360°-Videoextraktion (Experimentell)",
        "360_desc": "Konvertiert 360°-Equirektangularvideos/-bilder in planare Bilder für die Photogrammetrie (COLMAP).",
        "360_activate": "360Extractor-Modul aktivieren",
        "360_install_msg": "Möchten Sie das 360Extractor-Modul installieren?\n(Benötigt PySide6, YOLO... in einer eigenen Umgebung)",
        "360_uninstall_msg": "Möchten Sie das 360Extractor-Modul und seine Umgebung deinstallieren?",
        "360_group_params": "Extraktionsparameter",
        "360_lbl_interval": "Intervall (sek):",
        "360_lbl_resolution": "Auflösung (px):",
        "360_lbl_layout": "Kamera-Layout:",
        "360_layout_ring": "Ring",
        "360_layout_cube": "Cube Map",
        "360_layout_fib": "Fibonacci",
        "360_lbl_cameras": "Kamera-Anzahl:",
        "360_lbl_quality": "JPEG-Qualität:",
        "360_lbl_format": "Format:",
        "360_tip_interval": "Zeit in Sekunden zwischen jeder Extraktion.\n(z. B. 1.0 = 1 Bild pro Sekunde)",
        "360_tip_res": "Auflösung der extrahierten Bilder (z. B. 2048x2048).\nHöhere Auflösung erhöht die Verarbeitungszeit.",
        "360_tip_layout": "Geometrisches Layout der virtuellen Kameras:\n- Ring: Ideal für horizontale Panoramen\n- Cube: Volle 360°-Abdeckung\n- Fibonacci: Gleichmäßige sphärische Verteilung",
        "360_tip_cameras": "Anzahl der pro Position generierten virtuellen Kameras.\nErhöhen verbessert die Abdeckung, verlangsamt aber den Prozess.",
        "360_tip_quality": "Bildkompressionsqualität (1-100).\n95 wird für eine gute Balance empfohlen.",
        "360_tip_format": "Dateiformat für extrahierte Bilder.\nJPG ist leichter, PNG ist verlustfrei.",
        "360_tip_ai_mask": "Verwendet KI (YOLO), um dynamische Objekte (Personen, Autos, Tiere)\nautomatisch zu maskieren, die die 3D-Rekonstruktion stören könnten.",
        "360_tip_ai_skip": "Analysiert die Bildqualität und überspringt automatisch\nunscharfe Frames oder solche mit zu viel Bewegung.",
        "360_tip_adaptive": "Passt das Extraktionsintervall intelligent an die Bewegungsgeschwindigkeit an.\nNimmmt mehr Fotos auf, wenn sich die Kamera schnell dreht.",
        "360_tip_threshold": "Empfindlichkeitsschwelle für die Bewegungserkennung (AI Skip/Adaptive).\nEin niedrigerer Wert macht die Erkennung empfindlicher.",
        "360_msg_install_ok": "Installation erfolgreich abgeschlossen.",
        "360_msg_uninstall_ok": "Deinstallation erfolgreich abgeschlossen.",
        "360_group_ai": "KI & Fortgeschritten",
        "360_check_ai_mask": "Operator maskieren (YOLO - Remove Operator)",
        "360_check_ai_skip": "Frame mit Operator überspringen",
        "360_check_adaptive": "Adaptives Intervall (Bewegung)",
        "360_lbl_threshold": "Bewegungsschwelle:",
        "360_btn_extract_only": "Extraktion ausführen (Standalone)",
        "360_msg_success": "Extraktion beendet!",
        "360_status_installing": "Wird installiert...",
        "360_status_ready": "Bereit",
        "360_status_missing": "Nicht installiert",
        "360_lbl_input": "Quellvideo:",
        "360_lbl_output": "Ausgabeordner:",
        "err_360_single_video": "Der 360-Extraktionsmodus unterstützt nur ein Video gleichzeitig.",
        
        # Config Tab - 360
        "check_source_360": "360°-Quelle (Vorverarbeitung) (Experimentell)",
        "tip_source_360": "Falls aktiviert, wird das Eingangsvideo zuerst vom 360Extractor verarbeitet, um Bilder zu generieren.",
        "360_processing": "360°-Video wird verarbeitet...",

        # Sharp Tab
        "sharp_activate": "Apple ML Sharp aktivieren",
        "sharp_group_paths": "Pfade",
        "sharp_lbl_input": "Eingabe (Bild/Ordner):",
        "sharp_placeholder_input": "Bildordner oder einzelne Bilddatei",
        "sharp_btn_folder": "Ordner",
        "sharp_btn_file": "Datei",
        "sharp_lbl_output": "Ausgabe:",
        "sharp_placeholder_output": "Ausgabeordner für Splats",
        "sharp_placeholder_ckpt": "Optional (Autom. Download falls leer)",
        "sharp_lbl_ckpt": "Checkpoint (.pt):",
        "sharp_lbl_device": "Gerät:",
        "sharp_check_verbose": "Verbose-Modus (Detaillierte Protokolle)",
        "sharp_btn_run": "Predict ausführen",
        "sharp_status_ready": "Engine installiert und bereit.",
        "sharp_status_missing": "Modul nicht installiert.",
        "sharp_install_title": "Sharp-Installation",
        "sharp_install_msg": "Das Modul Apple ML Sharp benötigt eine eigene Python-Umgebung (~200MB).\nFortfahren?",
        "sharp_uninstall_title": "Sharp-Deaktivierung",
        "sharp_uninstall_msg": "Möchten Sie die Sharp-Moduldateien löschen, um Platz freizugeben?",
        "sharp_status_installing": "Sharp wird installiert (venv)...",
        "sharp_msg_install_ok": "Sharp erfolgreich installiert!",
        "sharp_msg_install_err": "Installation von Sharp fehlgeschlagen.",
        "sharp_status_uninstalling": "Sharp wird entfernt...",
        "sharp_msg_uninstall_ok": "Sharp deinstalliert.",
        "sharp_dlg_input_dir": "Bilderordner",
        "sharp_dlg_input_file": "Bildeingabe",
        "sharp_dlg_output": "Ausgabeordner",
        "sharp_dlg_ckpt": "Sharp-Checkpoint",

        # CLI Strings
        "cli_desc": "CorbeauSplat v0.16 - CLI & GUI Toolkit",
        "cli_gui_help": "GUI starten (Standard, falls keine Argumente)",
        "cli_train_help": "BRUSH-Modus: Ein Splat trainieren",
        "cli_predict_help": "SHARP-Modus: Ein Splat vorhersagen (Bild -> 3D)",
        "cli_view_help": "SUPERSPLAT-Modus: Eine PLY-Datei visualisieren",
        "cli_input_help": "Eingabedatei/-ordner",
        "cli_output_help": "Ausgabedatei/-ordner",
        "cli_type_help": "Eingabetyp",
        "cli_fps_help": "Videoextraktion FPS",
        "cli_cam_help": "Kameramodell",
        "cli_undistort_help": "Undistort aktivieren",
        "cli_iter_help": "Anzahl der Iterationen",
        "cli_sh_degree_help": "Grad der sphärischen Harmonischen",
        "cli_checkpoint_help": "Pfad zu einem Checkpoint (.pt)",
        "cli_port_help": "Webserver-Port",
        "cli_data_port_help": "Datenserver-Port",
        "cli_err_colmap_args": "Fehler: --input und --output sind für COLMAP erforderlich.",
        "cli_err_brush_args": "Fehler: --input (COLMAP-Ordner) und --output (Zielordner) sind für BRUSH erforderlich.",
        "cli_err_sharp_args": "Fehler: --input (Bild) und --output (Ordner) sind für SHARP erforderlich.",
        "cli_err_view_args": "Fehler: --input (.ply-Datei oder Ordner) ist für SUPERSPLAT erforderlich.",
        "cli_start_colmap": "--- COLMAP wird gestartet ---",
        "cli_start_brush": "--- BRUSH Training wird gestartet ---",
        "cli_start_sharp": "--- SHARP Prediction wird gestartet ---",
        "cli_start_view": "--- SUPERSPLAT wird gestartet ---",
        "cli_input": "Eingabe: {}",
        "cli_output": "Ausgabe: {}",
        "cli_progression": "Fortschritt: {}%",
        "cli_success": "\nERFOLG: {}",
        "cli_error": "\nFEHLER: {}",
        "cli_stopping": "\nStoppen angefordert...",
        "cli_server_stop": "\nServer werden gestoppt...",
    },
    "it": {
        # Tabs
        "tab_config": "Configurazione",
        "tab_params": "Parametri COLMAP",
        "tab_logs": "Log",
        
        # Header
        "app_title": "CorbeauSplat",
        
        # Config Tab - Inputs
        "group_input": "Dati di Input",
        "label_project_name": "Nome Progetto:",
        "label_type": "Tipo:",
        "radio_images": "Immagini",
        "radio_video": "Video",
        "label_path": "Cartella/File:",
        "btn_browse": "Sfoglia",
        "label_fps": "FPS Estrazione Video:",
        
        # Config Tab - Outputs
        "group_output": "Output",
        "label_out_path": "Cartella di Output:",
        "btn_delete": "Elimina Dataset Esistente",
        "check_undistort": "Genera immagini non distorte (per Dense Reconstruction)",
        
        # Config Tab - Actions
        "btn_process": "Crea Dataset COLMAP",
        "btn_stop": "Ferma",
        "btn_save_cfg": "Salva Configurazione",
        "btn_load_cfg": "Carica Configurazione",
        "btn_open_brush": "Apri in Brush",
        "btn_quit": "Esci",
        "btn_relaunch": "Riavvia",
        "btn_reset": "Ripristino di Fabbrica",
        "confirm_reset": "⚠️ Ripristino di Fabbrica Completo\n\nQuesta azione:\n1. Eliminerà gli ambienti virtuali (.venv, .venv_sharp).\n2. Pulirà i file temporanei.\n3. Riavvierà l'installazione (Ottimizzata per Apple Silicon).\n\nConsigliato in caso di problemi con le dipendenze (es. Numpy/Pytorch).",
        "opt_jit_enabled": "JIT Abilitato (Python 3.13+)",
        "opt_jit_disabled": "JIT Non Attivo (Consigliato: Python 3.13)",
        
        # Params Tab
        "info_cpu": "Apple Silicon rilevato - {} thread ottimizzati",
        "group_extract": "Estrazione Feature",
        "lbl_camera_model": "Modello Fotocamera:",
        "check_single_cam": "Singola Fotocamera:",
        "lbl_max_img": "Dimensione Max Immagine:",
        "lbl_max_feat": "Feature Massime:",
        "check_force_cpu": "Forza CPU:",
        "check_affine": "Affine Shape:",
        "check_domain": "Domain Pooling:",
        
        "group_match": "Matching Feature",
        "lbl_match_type": "Tipo di Matching:",
        "lbl_max_ratio": "Rapporto Max:",
        "lbl_max_dist": "Distanza Max:",
        "check_cross": "Controllo Incrociato:",
        "check_guided": "Matching Guidato (non supportato):",
        
        "group_mapper": "Ricostruzione (Mapper)",
        "lbl_min_model": "Dim. Min Modello:",
        "check_multi_model": "Modelli Multipli:",
        "check_focal": "Affina Focale:",
        "check_principal": "Affina Punto Principale:",
        "check_extra": "Affina Parametri Extra:",
        "lbl_min_match": "Match Minimi:",
        "check_use_glomap": "Usa Glomap (Sperimentale)",
        "lbl_glomap": "GLOMAP:",
        
        # Brush Tab
        "tab_brush": "Brush",
        "brush_detected": "Motore Brush rilevato: {}",
        "brush_not_found": "Attenzione: Eseguibile 'brush' non trovato in engines/ o PATH",
        "brush_params": "Parametri di Addestramento",
        "brush_iterations": "Iterazioni:",
        "brush_args": "Argomenti Extra:",
        "brush_viewer": "Abilita visualizzatore durante l'addestramento",
        "btn_train_brush": "Avvia Addestramento Brush",
        "check_auto_brush": "Avvia automaticamente addestramento Brush",
        "msg_brush_start": "Avvio Brush su: {}",
        "msg_brush_out": "Output Brush: {}",
        "check_brush_independent": "Modalità Manuale / Indipendente",
        "brush_group_paths": "Percorsi (Modalità Manuale)",
        "brush_lbl_input": "Cartella Dataset (sparse+images):",
        "brush_lbl_output": "Cartella Export:",
        "brush_lbl_ply": "Nome file PLY (opzionale):",
        "brush_sh_degree": "Grado SH:",
        "brush_device": "Dispositivo:",
        "brush_lbl_res": "Risoluzione Massima:",
        "brush_res_warn": "0 = risoluzione predefinita (1080)",
        "brush_res_default": "0",
        
        # Brush Densification
        "brush_group_densify": "Densificazione & Avanzate",
        "brush_lbl_preset": "Preimpostazione:",
        "brush_preset_default": "Predefinito",
        "brush_preset_fast": "Test Rapido (15k)",
        "brush_preset_std": "Standard (30k)",
        "brush_preset_dense": "Densificazione Aggressiva",
        "brush_init_ply": "File PLY Iniziale:",
        "brush_btn_init_ply": "Scegli .ply...",
        "brush_lbl_mode": "Modalità Addestramento:",
        "brush_mode_new": "Nuovo Addestramento (Da zero)",
        "brush_mode_refine": "Affina / Continua (Auto)",
        "brush_check_refine": "Affina dall'ultimo checkpoint (Auto)",
        "brush_check_details": "Mostra Dettagli Avanzati",
        "brush_lbl_steps": "Step Totali:",
        "brush_lbl_start": "Iterazione Iniziale:",
        "brush_lbl_refine": "Affina Ogni:",
        "brush_lbl_threshold": "Soglia di Crescita:",
        "brush_lbl_fraction": "Frazione di Crescita:",
        "brush_lbl_stop": "Iterazione Fine Crescita:",
        "brush_lbl_max_splats": "Splat Massimi:",
        "brush_lbl_ckpt_interval": "Salva Checkpoint Ogni:",
        "brush_tip_device": "Dispositivo (auto, mps, cpu...)",
        "brush_tip_mode": "Nuovo addestramento: Crea un nuovo modello.\nAffina: Continua dall'ultimo checkpoint trovato.",
        "brush_tip_res": "Imposta un limite di risoluzione (lato più lungo). Lascia 0 per il valore predefinito.",
        
        # SuperSplat Tab
        "tab_supersplat": "SuperSplat",
        "superplat_info": "SuperSplat è uno strumento web sviluppato da PlayCanvas per modificare e visualizzare i Gaussian Splats.\nQuesto modulo avvia un server locale.",
        "group_server_config": "Configurazione Server",
        "lbl_splat_port": "Porta SuperSplat:",
        "lbl_data_port": "Porta Dati:",
        "group_data": "Dati da Visualizzare",
        "placeholder_ply": "Percorso file .ply o cartella",
        "group_url_options": "Opzioni Vista",
        "check_no_ui": "Nascondi Interfaccia (No UI)",
        "lbl_cam_pos": "Posizione Camera:",
        "lbl_cam_rot": "Rotazione Camera:",
        "btn_start_server": "Avvia Server",
        "btn_stop_server": "Ferma Server",
        "btn_open_browser": "Apri Browser",
        "status_running": "Stato: In esecuzione",
        "status_stopped": "Stato: Fermato",
        "select_ply": "Seleziona File PLY",

        # Logs Tab
        "btn_clear_log": "Pulisci Log",
        "btn_save_log": "Salva Log",
        "group_options": "Opzioni",
        
        # Messages / Dialogs
        "msg_ready": "Pronto",
        "msg_processing": "Elaborazione in corso...",
        "msg_stopping": "Arresto in corso...",
        "msg_success": "Successo",
        "msg_error": "Errore",
        "msg_warning": "Attenzione",
        "confirm_stop": "Vuoi veramente fermare il processo corrente?",
        "confirm_delete": "Vuoi veramente eliminare il dataset?\n\n{}\n\nQuesta azione è irreversibile!",
        "confirm_delete_nodata": "La cartella non sembra contenere un dataset COLMAP.\nVuoi eliminarla comunque?\n\n{}",
        "err_no_paths": "Seleziona le cartelle di input e output",
        "err_path_not_exists": "La cartella non esiste ancora",
        "USER_CANCELLED": "Annullato dall'utente",
        "success_created": "Dataset creato: {}",
        "success_open_brush": "Puoi ora aprirlo in Brush!",
        "lang_restart": "Cambio lingua: È richiesto il riavvio dell'applicazione.",
        "lang_change": "Lingua",

        # 4DGS Tab
        "tab_four_dgs": "4DGS",
        "four_dgs_header": "Preparazione Dati 4D Gaussian Splatting (4DGS) - Sperimentale",
        "four_dgs_desc": "Questo modulo estrae frame da video sincronizzati (multi-camera), esegue COLMAP e prepara i dati per Nerfstudio (ns-process-data).\nOgni file video nella cartella sorgente sarà trattato come una telecamera.",
        "four_dgs_warning_cuda": "⚠️ Nota: È richiesta una macchina compatibile con CUDA per la fase finale di addestramento.",
        "four_dgs_activate": "Attiva Modulo 4DGS (Richiede Nerfstudio ~4GB)",
        "four_dgs_group_src": "Video Sorgente",
        "four_dgs_files_ph": "Cartella contenente file video (es: /Users/io/gopro_videos)",
        "four_dgs_group_dst": "Destinazione Dataset",
        "four_dgs_group_params": "Parametri",
        "four_dgs_lbl_fps": "FPS Estrazione:",
        "four_dgs_btn_stop": "Ferma",
        "four_dgs_btn_colmap": "Riavvia Solo Ricostruzione COLMAP",
        "four_dgs_msg_colmap_start": "Esecuzione COLMAP su: {}",
        "four_dgs_group_cfg": "Configurazione",
        "four_dgs_btn_run": "Avvia Preparazione 4DGS",
        "msg_install_nerf": "Per attivare questa funzione, deve essere installato lo strumento 'nerfstudio' (ns-process-data).\n\nQuesto richiede circa 3-5 GB di spazio su disco.\nVuoi avviare l'installazione ora?",
        
        # Upscale Tab
        "tab_upscale": "Upscale",
        "upscale_title": "Configurazione Upscale",
        "upscale_desc": "Abilita Upscaling Immagini tramite IA (Real-ESRGAN).",
        "upscale_activate": "Attiva Modulo Upscale (Installa dipendenze)",
        "upscale_group_settings": "Impostazioni Upscale",
        "upscale_lbl_model": "Modello:",
        "upscale_desc_x4plus": "Versione GAN: Texture realistiche e dettagli fini. Ideale per foto e uso generale.",
        "upscale_desc_x4net": "Versione NET: Maggiore fedeltà ma più morbida (niente 'allucinazioni'). Migliore per testi.",
        "upscale_desc_anime": "Specializzato per disegni, cartoni animati e anime (6B).",
        "upscale_lbl_scale": "Zoom Finale:",
        "upscale_scale_x4": "x4 (Predefinito)",
        "upscale_scale_x2": "x2",
        "upscale_scale_x1": "x1 (Solo miglioramento qualità)",
        "upscale_tip_scale": "Definisce la dimensione finale rispetto all'originale.\nx1 pulisce dal rumore/migliora senza cambiare dimensione.",
        "upscale_lbl_tile": "Protezione RAM (Tile):",
        "upscale_tip_tile": "0 = Auto (Veloce, pesante)\n512/256 = Modalità 'Tiling' (Lenta, risparmio RAM)\nUsa 512 o meno se l'app crasha con immagini grandi.",
        "upscale_lbl_profile": "Profilo Prestazioni",
        "upscale_tip_profile": "Configura automaticamente Tiling e Precisione in base al tuo hardware.",
        "upscale_lbl_fp16": "Mezza Precisione (FP16)",
        "upscale_tip_fp16": "Riduce la memoria della metà. Consigliato per M1/M2/M3.",
        "upscale_check_face": "Miglioramento Volti (GFPGAN)",
        "upscale_tip_face": "Rileva e restaura specificamente i volti.\nRichiede il modello GFPGAN.",
        "upscale_install_title": "Installazione",
        "upscale_install_msg": "Vuoi scaricare e installare i moduli IA necessari (Torch, RealESRGAN)?\nL'operazione potrebbe richiedere alcuni minuti (~2GB).",
        "upscale_uninstall_title": "Disattivazione",
        "upscale_uninstall_msg": "Vuoi anche DISINSTALLARE le dipendenze per liberare spazio?\n(No = Disabilita solo l'opzione)",
        "upscale_installing": "Installazione moduli IA...",
        "upscale_uninstalling": "Disinstallazione...",
        "upscale_msg_installed": "Moduli installati con successo!",
        "upscale_msg_uninstalled": "Moduli disinstallati.",
        "upscale_err_install": "Installazione fallita.",
        "upscale_check_colmap": "Upscale (Real-ESRGAN)",
        "upscale_check_sharp": "Upscale Input (Real-ESRGAN)",
        "upscale_lbl_status": "Stato:",
        "upscale_btn_download": "Scarica Modello",
        "upscale_status_deps_missing": "⚠️ Dipendenze mancanti (Riavvia run.command)",
        "upscale_status_not_installed": "Modulo non installato",
        "upscale_status_available": "✅ Modello disponibile (Locale)",
        "upscale_status_missing_model": "⚠️ Modello mancante",
        "upscale_msg_downloading": "Download in corso {}...",
        "upscale_msg_success_download": "Modello scaricato!",
        "upscale_msg_err_download": "Download fallito.\nControlla la tua connessione.",
        "btn_cancel": "Annulla",
        
        # 360 Extractor Tab
        "tab_360": "360 Extractor",
        "tab_sharp": "Apple ML Sharp",
        "360_header": "Estrazione Video 360° (Sperimentale)",
        "360_desc": "Converte video/immagini 360° equirettangolari in immagini planari per la fotogrammetria (COLMAP).",
        "360_activate": "Attiva Modulo 360Extractor",
        "360_install_msg": "Vuoi installare il modulo 360Extractor?\n(Richiede PySide6, YOLO... in un ambiente dedicato)",
        "360_uninstall_msg": "Vuoi disinstallare il modulo 360Extractor e il suo ambiente?",
        "360_group_params": "Parametri di Estrazione",
        "360_lbl_interval": "Intervallo (sec):",
        "360_lbl_resolution": "Risoluzione (px):",
        "360_lbl_layout": "Layout Camera:",
        "360_layout_ring": "Anello (Ring)",
        "360_layout_cube": "Cube Map",
        "360_layout_fib": "Fibonacci",
        "360_lbl_cameras": "Numero Camere:",
        "360_lbl_quality": "Qualità JPEG:",
        "360_lbl_format": "Formato:",
        "360_tip_interval": "Tempo in secondi tra ogni estrazione.\n(es: 1.0 = 1 immagine ogni secondo)",
        "360_tip_res": "Risoluzione delle immagini estratte (es: 2048x2048).\nUna risoluzione più alta aumenta i tempi di elaborazione.",
        "360_tip_layout": "Disposizione geometrica delle camere virtuali:\n- Ring: Ideale per panorami orizzontali\n- Cube: Copertura 360 completa\n- Fibonacci: Distribuzione sferica uniforme",
        "360_tip_cameras": "Numero di camere virtuali generate per ogni posizione.\nAumentare questo valore migliora la copertura ma rallenta il processo.",
        "360_tip_quality": "Qualità della compressione immagine (1-100).\n95 è consigliato per un buon equilibrio.",
        "360_tip_format": "Formato file per le immagini estratte.\nJPG è più leggero, PNG è senza perdita.",
        "360_tip_ai_mask": "Usa l'IA (YOLO) per mascherare automaticamente oggetti dinamici (persone, auto, animali)\nche potrebbero disturbare la ricostruzione 3D.",
        "360_tip_ai_skip": "Analizza la qualità dell'immagine e salta automaticamente\ni frame sfocati o con troppo movimento.",
        "360_tip_adaptive": "Regola intelligentemente l'intervallo di estrazione in base alla velocità di movimento.\nScatta più foto quando la camera gira velocemente.",
        "360_tip_threshold": "Soglia di sensibilità per il rilevamento del movimento (AI Skip/Adaptive).\nUn valore più basso rende il rilevamento più sensibile.",
        "360_msg_install_ok": "Installazione completata con successo.",
        "360_msg_uninstall_ok": "Disinstallazione completata con successo.",
        "360_group_ai": "IA e Avanzate",
        "360_check_ai_mask": "Maschera Operatore (YOLO - Remove Operator)",
        "360_check_ai_skip": "Salta Frame con Operatore",
        "360_check_adaptive": "Intervallo Adattivo (Movimento)",
        "360_lbl_threshold": "Soglia Movimento:",
        "360_btn_extract_only": "Avvia Estrazione (Standalone)",
        "360_msg_success": "Estrazione terminata!",
        "360_status_installing": "Installazione in corso...",
        "360_status_ready": "Pronto",
        "360_status_missing": "Non installato",
        "360_lbl_input": "Video Sorgente:",
        "360_lbl_output": "Cartella di Output:",
        "err_360_single_video": "La modalità Estrazione 360 supporta solo un video alla volta.",
        
        # Config Tab - 360
        "check_source_360": "Sorgente 360° (Pre-elaborazione) (Sperimentale)",
        "tip_source_360": "Se selezionato, il video di input verrà prima elaborato da 360Extractor per generare le immagini.",
        "360_processing": "Elaborazione video 360°...",

        # Sharp Tab
        "sharp_activate": "Attiva Apple ML Sharp",
        "sharp_group_paths": "Percorsi",
        "sharp_lbl_input": "Input (Imm/Cartella):",
        "sharp_placeholder_input": "Cartella immagini o singolo file immagine",
        "sharp_btn_folder": "Cartella",
        "sharp_btn_file": "File",
        "sharp_lbl_output": "Output:",
        "sharp_placeholder_output": "Cartella di output per gli splat",
        "sharp_placeholder_ckpt": "Opzionale (Auto-download se vuoto)",
        "sharp_lbl_ckpt": "Checkpoint (.pt):",
        "sharp_lbl_device": "Dispositivo:",
        "sharp_check_verbose": "Modalità Verbose (Log dettagliati)",
        "sharp_btn_run": "Avvia Predict",
        "sharp_status_ready": "Motore installato e pronto.",
        "sharp_status_missing": "Modulo non installato.",
        "sharp_install_title": "Installazione Sharp",
        "sharp_install_msg": "Il modulo Apple ML Sharp richiede un ambiente Python dedicato (~200MB).\nContinuare?",
        "sharp_uninstall_title": "Disattivazione Sharp",
        "sharp_uninstall_msg": "Vuoi eliminare i file del modulo Sharp per liberare spazio?",
        "sharp_status_installing": "Installazione di Sharp (venv)...",
        "sharp_msg_install_ok": "Sharp installato con successo!",
        "sharp_msg_install_err": "Installazione di Sharp fallita.",
        "sharp_status_uninstalling": "Rimozione di Sharp...",
        "sharp_msg_uninstall_ok": "Sharp disinstallato.",
        "sharp_dlg_input_dir": "Cartella Immagini",
        "sharp_dlg_input_file": "Input Immagine",
        "sharp_dlg_output": "Cartella Output",
        "sharp_dlg_ckpt": "Checkpoint Sharp",

        # CLI Strings
        "cli_desc": "CorbeauSplat v0.16 - CLI & GUI Toolkit",
        "cli_gui_help": "Avvia GUI (Predefinito se nessun argomento)",
        "cli_train_help": "Modalità BRUSH: Addestra uno splat",
        "cli_predict_help": "Modalità SHARP: Predici uno splat (Immagine -> 3D)",
        "cli_view_help": "Modalità SUPERSPLAT: Visualizza un file PLY",
        "cli_input_help": "File/Cartella di input",
        "cli_output_help": "File/Cartella di output",
        "cli_type_help": "Tipo di input",
        "cli_fps_help": "FPS estrazione video",
        "cli_cam_help": "Modello fotocamera",
        "cli_undistort_help": "Abilita undistortion",
        "cli_iter_help": "Numero di iterazioni",
        "cli_sh_degree_help": "Grado armoniche sferiche",
        "cli_checkpoint_help": "Percorso a un checkpoint (.pt)",
        "cli_port_help": "Porta server web",
        "cli_data_port_help": "Porta server dati",
        "cli_err_colmap_args": "Errore: --input e --output sono richiesti per COLMAP.",
        "cli_err_brush_args": "Errore: --input (cartella colmap) e --output (cartella destinazione) sono richiesti per BRUSH.",
        "cli_err_sharp_args": "Errore: --input (immagine) e --output (cartella) sono richiesti per SHARP.",
        "cli_err_view_args": "Errore: --input (file .ply o cartella) è richiesto per SUPERSPLAT.",
        "cli_start_colmap": "--- Avvio COLMAP ---",
        "cli_start_brush": "--- Avvio Addestramento BRUSH ---",
        "cli_start_sharp": "--- Avvio Predizione SHARP ---",
        "cli_start_view": "--- Avvio SUPERSPLAT ---",
        "cli_input": "Input: {}",
        "cli_output": "Output: {}",
        "cli_progression": "Progressione: {}%",
        "cli_success": "\nSUCCESSO: {}",
        "cli_error": "\nERRORE: {}",
        "cli_stopping": "\nArresto richiesto...",
        "cli_server_stop": "\nArresto dei server...",
    },
    "es": {
        # Tabs
        "tab_config": "Configuración",
        "tab_params": "Parámetros COLMAP",
        "tab_logs": "Logs",
        
        # Header
        "app_title": "CorbeauSplat",
        
        # Config Tab - Inputs
        "group_input": "Datos de Entrada",
        "label_project_name": "Nombre del Proyecto:",
        "label_type": "Tipo:",
        "radio_images": "Imágenes",
        "radio_video": "Video",
        "label_path": "Carpeta/Archivo:",
        "btn_browse": "Explorar",
        "label_fps": "FPS de Extracción de Video:",
        
        # Config Tab - Outputs
        "group_output": "Salida",
        "label_out_path": "Carpeta de Salida:",
        "btn_delete": "Eliminar Dataset Existente",
        "check_undistort": "Generar imágenes sin distorsión (para Dense Reconstruction)",
        
        # Config Tab - Actions
        "btn_process": "Crear Dataset COLMAP",
        "btn_stop": "Detener",
        "btn_save_cfg": "Guardar Configuración",
        "btn_load_cfg": "Cargar Configuración",
        "btn_open_brush": "Abrir en Brush",
        "btn_quit": "Salir",
        "btn_relaunch": "Reiniciar",
        "btn_reset": "Restablecimiento de Fábrica",
        "confirm_reset": "⚠️ Restablecimiento de Fábrica Completo\n\nEsta acción:\n1. Eliminará los entornos virtuales (.venv, .venv_sharp).\n2. Limpiará los archivos temporales.\n3. Reiniciará la instalación (Optimizada para Apple Silicon).\n\nRecomendado en caso de problemas con las dependencias (ej. Numpy/Pytorch).",
        "opt_jit_enabled": "JIT Habilitado (Python 3.13+)",
        "opt_jit_disabled": "JIT Inactivo (Recomendado: Python 3.13)",
        
        # Params Tab
        "info_cpu": "Apple Silicon detectado - {} hilos optimizados",
        "group_extract": "Extracción de Características",
        "lbl_camera_model": "Modelo de Cámara:",
        "check_single_cam": "Cámara Única:",
        "lbl_max_img": "Tamaño Máx de Imagen:",
        "lbl_max_feat": "Características Máximas:",
        "check_force_cpu": "Forzar CPU:",
        "check_affine": "Affine Shape:",
        "check_domain": "Domain Pooling:",
        
        "group_match": "Matching de Características",
        "lbl_match_type": "Tipo de Matching:",
        "lbl_max_ratio": "Relación Máx:",
        "lbl_max_dist": "Distancia Máx:",
        "check_cross": "Validación Cruzada:",
        "check_guided": "Matching Guiado (no soportado):",
        
        "group_mapper": "Reconstrucción (Mapper)",
        "lbl_min_model": "Tamaño Mín de Modelo:",
        "check_multi_model": "Múltiples Modelos:",
        "check_focal": "Refinar Focal:",
        "check_principal": "Refinar Punto Principal:",
        "check_extra": "Refinar Parámetros Extra:",
        "lbl_min_match": "Matches Mínimos:",
        "check_use_glomap": "Usar Glomap (Experimental)",
        "lbl_glomap": "GLOMAP:",
        
        # Brush Tab
        "tab_brush": "Brush",
        "brush_detected": "Motor Brush detectado: {}",
        "brush_not_found": "Atención: Ejecutable 'brush' no encontrado en engines/ o PATH",
        "brush_params": "Parámetros de Entrenamiento",
        "brush_iterations": "Iteraciones:",
        "brush_args": "Argumentos Extra:",
        "brush_viewer": "Habilitar visualizador durante el entrenamiento",
        "btn_train_brush": "Iniciar Entrenamiento Brush",
        "check_auto_brush": "Iniciar entrenamiento Brush automáticamente",
        "msg_brush_start": "Iniciando Brush en: {}",
        "msg_brush_out": "Salida de Brush: {}",
        "check_brush_independent": "Modo Manual / Independiente",
        "brush_group_paths": "Rutas (Modo Manual)",
        "brush_lbl_input": "Carpeta Dataset (sparse+images):",
        "brush_lbl_output": "Carpeta de Exportación:",
        "brush_lbl_ply": "Nombre de archivo PLY (opcional):",
        "brush_sh_degree": "Grado SH:",
        "brush_device": "Dispositivo:",
        "brush_lbl_res": "Resolución Máxima:",
        "brush_res_warn": "0 = resolución por defecto (1080)",
        "brush_res_default": "0",
        
        # Brush Densification
        "brush_group_densify": "Densificación y Avanzado",
        "brush_lbl_preset": "Preajuste:",
        "brush_preset_default": "Por Defecto",
        "brush_preset_fast": "Prueba Rápida (15k)",
        "brush_preset_std": "Estándar (30k)",
        "brush_preset_dense": "Densificación Agresiva",
        "brush_init_ply": "Archivo PLY Inicial:",
        "brush_btn_init_ply": "Elegir .ply...",
        "brush_lbl_mode": "Modo de Entrenamiento:",
        "brush_mode_new": "Nuevo Entrenamiento (Desde Cero)",
        "brush_mode_refine": "Refinar / Continuar (Auto)",
        "brush_check_refine": "Refinar desde el último checkpoint (Auto)",
        "brush_check_details": "Mostrar Detalles Avanzados",
        "brush_lbl_steps": "Pasos Totales:",
        "brush_lbl_start": "Iteración de Inicio:",
        "brush_lbl_refine": "Refinar Cada:",
        "brush_lbl_threshold": "Umbral de Crecimiento:",
        "brush_lbl_fraction": "Fracción de Crecimiento:",
        "brush_lbl_stop": "Iteración Fin Crecimiento:",
        "brush_lbl_max_splats": "Splats Máximos:",
        "brush_lbl_ckpt_interval": "Guardar Checkpoint Cada:",
        "brush_tip_device": "Dispositivo (auto, mps, cpu...)",
        "brush_tip_mode": "Nuevo entrenamiento: Crea un nuevo modelo.\nRefinar: Continúa desde el último checkpoint encontrado.",
        "brush_tip_res": "Establece un límite de resolución (lado más largo). Deja 0 para el valor por defecto.",
        
        # SuperSplat Tab
        "tab_supersplat": "SuperSplat",
        "superplat_info": "SuperSplat es una herramienta web desarrollada por PlayCanvas para editar y visualizar Gaussian Splats.\nEste módulo lanza un servidor local.",
        "group_server_config": "Configuración del Servidor",
        "lbl_splat_port": "Puerto SuperSplat:",
        "lbl_data_port": "Puerto de Datos:",
        "group_data": "Datos a Visualizar",
        "placeholder_ply": "Ruta a archivo .ply o carpeta",
        "group_url_options": "Opciones de Vista",
        "check_no_ui": "Ocultar Interfaz (No UI)",
        "lbl_cam_pos": "Posición de Cámara:",
        "lbl_cam_rot": "Rotación de Cámara:",
        "btn_start_server": "Iniciar Servidores",
        "btn_stop_server": "Detener Servidores",
        "btn_open_browser": "Abrir Navegador",
        "status_running": "Estado: En ejecución",
        "status_stopped": "Estado: Detenido",
        "select_ply": "Seleccionar Archivo PLY",

        # Logs Tab
        "btn_clear_log": "Limpiar Logs",
        "btn_save_log": "Guardar Logs",
        "group_options": "Opciones",
        
        # Messages / Dialogs
        "msg_ready": "Listo",
        "msg_processing": "Procesando...",
        "msg_stopping": "Deteniendo...",
        "msg_success": "Éxito",
        "msg_error": "Error",
        "msg_warning": "Advertencia",
        "confirm_stop": "¿Realmente desea detener el proceso actual?",
        "confirm_delete": "¿Realmente desea eliminar el dataset?\n\n{}\n\n¡Esta acción es irreversible!",
        "confirm_delete_nodata": "La carpeta no parece contener un dataset COLMAP.\n¿Desea eliminarla de todos modos?\n\n{}",
        "err_no_paths": "Por favor, seleccione las carpetas de entrada y salida",
        "err_path_not_exists": "La carpeta aún no existe",
        "USER_CANCELLED": "Cancelado por el usuario",
        "success_created": "Dataset creado: {}",
        "success_open_brush": "¡Ahora puedes abrirlo en Brush!",
        "lang_restart": "Cambio de idioma: Es necesario reiniciar la aplicación.",
        "lang_change": "Idioma",

        # 4DGS Tab
        "tab_four_dgs": "4DGS",
        "four_dgs_header": "Preparación de Datos 4D Gaussian Splatting (4DGS) - Experimental",
        "four_dgs_desc": "Este módulo extrae fotogramas de videos sincronizados (multicámara), ejecuta COLMAP y prepara los datos para Nerfstudio (ns-process-data).\nCada archivo de video en la carpeta de origen será tratado como una cámara.",
        "four_dgs_warning_cuda": "⚠️ Nota: Se requiere una máquina compatible con CUDA para el paso final de entrenamiento.",
        "four_dgs_activate": "Activar Módulo 4DGS (Requiere Nerfstudio ~4GB)",
        "four_dgs_group_src": "Videos de Origen",
        "four_dgs_files_ph": "Carpeta con archivos de video (ej: /Users/yo/gopro_videos)",
        "four_dgs_group_dst": "Destino del Dataset",
        "four_dgs_group_params": "Parámetros",
        "four_dgs_lbl_fps": "FPS de Extracción:",
        "four_dgs_btn_stop": "Detener",
        "four_dgs_btn_colmap": "Reiniciar solo Reconstrucción COLMAP",
        "four_dgs_msg_colmap_start": "Ejecutando COLMAP en: {}",
        "four_dgs_group_cfg": "Configuración",
        "four_dgs_btn_run": "Iniciar Preparación 4DGS",
        "msg_install_nerf": "Para activar esta función, debe estar instalada la herramienta 'nerfstudio' (ns-process-data).\n\nEsto requiere aproximadamente 3-5 GB de espacio en disco.\n¿Desea iniciar la instalación ahora?",
        
        # Upscale Tab
        "tab_upscale": "Upscale",
        "upscale_title": "Configuración de Upscale",
        "upscale_desc": "Habilitar aumento de escala de imagen por IA (Real-ESRGAN).",
        "upscale_activate": "Activar Módulo Upscale (Instala dependencias)",
        "upscale_group_settings": "Ajustes de Upscale",
        "upscale_lbl_model": "Modelo:",
        "upscale_desc_x4plus": "Versión GAN: Texturas realistas y detalles finos. Ideal para fotos y uso general.",
        "upscale_desc_x4net": "Versión NET: Mayor fidelidad pero más suave (sin 'alucinaciones'). Mejor para texto.",
        "upscale_desc_anime": "Especializado para dibujos, dibujos animados y anime (6B).",
        "upscale_lbl_scale": "Zoom Final:",
        "upscale_scale_x4": "x4 (Por Defecto)",
        "upscale_scale_x2": "x2",
        "upscale_scale_x1": "x1 (Solo mejora de calidad)",
        "upscale_tip_scale": "Define el tamaño final respecto al original.\nx1 limpia el ruido/mejora sin cambiar el tamaño.",
        "upscale_lbl_tile": "Protección de RAM (Tile):",
        "upscale_tip_tile": "0 = Auto (Rápido, pesado)\n512/256 = Modo 'Tiling' (Lento, ahorra RAM)\nUsa 512 o menos si la aplicación falla con imágenes grandes.",
        "upscale_lbl_profile": "Perfil de Rendimiento",
        "upscale_tip_profile": "Configura automáticamente Tiling y Precisión según tu hardware.",
        "upscale_lbl_fp16": "Media Precisión (FP16)",
        "upscale_tip_fp16": "Reduce la memoria a la mitad. Recomendado para M1/M2/M3.",
        "upscale_check_face": "Mejora de Rostros (GFPGAN)",
        "upscale_tip_face": "Detecta y restaura rostros específicamente.\nRequiere el modelo GFPGAN.",
        "upscale_install_title": "Instalación",
        "upscale_install_msg": "¿Desea descargar e instalar los módulos de IA necesarios (Torch, RealESRGAN)?\nEsto puede tardar varios minutos (~2GB).",
        "upscale_uninstall_title": "Desactivación",
        "upscale_uninstall_msg": "¿Desea también DESINSTALAR las dependencias para liberar espacio?\n(No = Solo desactivar opción)",
        "upscale_installing": "Instalando módulos de IA...",
        "upscale_uninstalling": "Desinstalando...",
        "upscale_msg_installed": "¡Módulos instalados correctamente!",
        "upscale_msg_uninstalled": "Módulos desinstalados.",
        "upscale_err_install": "La instalación falló.",
        "upscale_check_colmap": "Upscale (Real-ESRGAN)",
        "upscale_check_sharp": "Upscale Entrada (Real-ESRGAN)",
        "upscale_lbl_status": "Estado:",
        "upscale_btn_download": "Descargar Modelo",
        "upscale_status_deps_missing": "⚠️ Faltan dependencias (Reinicia run.command)",
        "upscale_status_not_installed": "Módulo no instalado",
        "upscale_status_available": "✅ Modelo disponible (Local)",
        "upscale_status_missing_model": "⚠️ Falta el modelo",
        "upscale_msg_downloading": "Descargando {}...",
        "upscale_msg_success_download": "¡Modelo descargado!",
        "upscale_msg_err_download": "Fallo en la descarga.\nComprueba tu conexión.",
        "btn_cancel": "Cancelar",
        
        # 360 Extractor Tab
        "tab_360": "360 Extractor",
        "tab_sharp": "Apple ML Sharp",
        "360_header": "Extracción de Video 360° (Experimental)",
        "360_desc": "Convierte videos/imágenes 360° equirrectangulares en imágenes planas para fotogrametría (COLMAP).",
        "360_activate": "Activar Módulo 360Extractor",
        "360_install_msg": "¿Desea instalar el módulo 360Extractor?\n(Requiere PySide6, YOLO... en un entorno dedicado)",
        "360_uninstall_msg": "¿Desea desinstalar el módulo 360Extractor y su entorno?",
        "360_group_params": "Parámetros de Extracción",
        "360_lbl_interval": "Intervalo (seg):",
        "360_lbl_resolution": "Resolución (px):",
        "360_lbl_layout": "Diseño de Cámaras:",
        "360_layout_ring": "Anillo (Ring)",
        "360_layout_cube": "Cube Map",
        "360_layout_fib": "Fibonacci",
        "360_lbl_cameras": "Núm. de Cámaras:",
        "360_lbl_quality": "Calidad JPEG:",
        "360_lbl_format": "Formato:",
        "360_tip_interval": "Tiempo en segundos entre cada extracción.\n(ej: 1.0 = 1 imagen cada segundo)",
        "360_tip_res": "Resolución de imágenes extraídas (ej: 2048x2048).\nUna mayor resolución aumenta el tiempo de procesamiento.",
        "360_tip_layout": "Disposición geométrica de las cámaras virtuales:\n- Ring: Ideal para panoramas horizontales\n- Cube: Cobertura 360 completa\n- Fibonacci: Distribución esférica uniforme",
        "360_tip_cameras": "Número de cámaras virtuales generadas por cada posición.\nAumentar este número mejora la cobertura pero ralentiza el proceso.",
        "360_tip_quality": "Calidad de compresión de imagen (1-100).\nSe recomienda 95 para un buen equilibrio.",
        "360_tip_format": "Formato de archivo para las imágenes extraídas.\nJPG es más ligero, PNG es sin pérdida.",
        "360_tip_ai_mask": "Usa IA (YOLO) para enmascarar automáticamente objetos dinámicos (personas, coches, animales)\nque podrían perturbar la reconstrucción 3D.",
        "360_tip_ai_skip": "Analiza la calidad de imagen y omite automáticamente\nfotogramas borrosos o con demasiado movimiento.",
        "360_tip_adaptive": "Ajusta inteligentemente el intervalo de extracción según la velocidad de movimiento.\nToma más fotos cuando la cámara gira rápido.",
        "360_tip_threshold": "Umbral de sensibilidad para la detección de movimiento (AI Skip/Adaptive).\nUn valor más bajo hace que la detección sea más sensible.",
        "360_msg_install_ok": "Instalación completada correctamente.",
        "360_msg_uninstall_ok": "Desinstalación completata correctamente.",
        "360_group_ai": "IA y Avanzado",
        "360_check_ai_mask": "Enmascarar Operador (YOLO - Remove Operator)",
        "360_check_ai_skip": "Omitir Frame con Operador",
        "360_check_adaptive": "Intervalo Adaptativo (Movimiento)",
        "360_lbl_threshold": "Umbral de Movimiento:",
        "360_btn_extract_only": "Ejecutar Extracción (Independiente)",
        "360_msg_success": "¡Extracción terminada!",
        "360_status_installing": "Instalando...",
        "360_status_ready": "Listo",
        "360_status_missing": "No instalado",
        "360_lbl_input": "Video de Origen:",
        "360_lbl_output": "Carpeta de Salida:",
        "err_360_single_video": "El modo de extracción 360 solo admite un video a la vez.",
        
        # Config Tab - 360
        "check_source_360": "Origen 360° (Preprocesamiento) (Experimental)",
        "tip_source_360": "Si se marca, el video de entrada será procesado primero por 360Extractor para generar imágenes.",
        "360_processing": "Procesando video 360°...",

        # Sharp Tab
        "sharp_activate": "Activar Apple ML Sharp",
        "sharp_group_paths": "Rutas",
        "sharp_lbl_input": "Entrada (Img/Carpeta):",
        "sharp_placeholder_input": "Carpeta de imágenes o archivo de imagen único",
        "sharp_btn_folder": "Carpeta",
        "sharp_btn_file": "Archivo",
        "sharp_lbl_output": "Salida:",
        "sharp_placeholder_output": "Carpeta de salida para los splats",
        "sharp_placeholder_ckpt": "Opcional (Descarga automática si está vacío)",
        "sharp_lbl_ckpt": "Checkpoint (.pt):",
        "sharp_lbl_device": "Dispositivo:",
        "sharp_check_verbose": "Modo Verbose (Logs detallados)",
        "sharp_btn_run": "Ejecutar Predict",
        "sharp_status_ready": "Motor instalado y listo.",
        "sharp_status_missing": "Módulo no instalado.",
        "sharp_install_title": "Instalación de Sharp",
        "sharp_install_msg": "El módulo Apple ML Sharp requiere un entorno Python dedicado (~200MB).\n¿Continuar?",
        "sharp_uninstall_title": "Desactivación de Sharp",
        "sharp_uninstall_msg": "¿Desea eliminar los archivos del módulo Sharp para liberar espacio?",
        "sharp_status_installing": "Instalando Sharp (venv)...",
        "sharp_msg_install_ok": "¡Sharp instalado correctamente!",
        "sharp_msg_install_err": "Fallo en la instalación de Sharp.",
        "sharp_status_uninstalling": "Eliminando Sharp...",
        "sharp_msg_uninstall_ok": "Sharp desinstalado.",
        "sharp_dlg_input_dir": "Carpeta de Imágenes",
        "sharp_dlg_input_file": "Entrada de Imagen",
        "sharp_dlg_output": "Carpeta de Salida",
        "sharp_dlg_ckpt": "Checkpoint de Sharp",

        # CLI Strings
        "cli_desc": "CorbeauSplat v0.16 - CLI & GUI Toolkit",
        "cli_gui_help": "Lanzar GUI (Por defecto si no hay argumentos)",
        "cli_train_help": "Modo BRUSH: Entrenar un splat",
        "cli_predict_help": "Modo SHARP: Predecir un splat (Imagen -> 3D)",
        "cli_view_help": "Modo SUPERSPLAT: Visualizar un archivo PLY",
        "cli_input_help": "Archivo/Carpeta de entrada",
        "cli_output_help": "Archivo/Carpeta de salida",
        "cli_type_help": "Tipo de entrada",
        "cli_fps_help": "FPS de extracción de video",
        "cli_cam_help": "Modelo de cámara",
        "cli_undistort_help": "Habilitar undistortion",
        "cli_iter_help": "Número de iteraciones",
        "cli_sh_degree_help": "Grado de armónicos esféricos",
        "cli_checkpoint_help": "Ruta a un checkpoint (.pt)",
        "cli_port_help": "Puerto del servidor web",
        "cli_data_port_help": "Puerto del servidor de datos",
        "cli_err_colmap_args": "Error: --input y --output son requeridos para COLMAP.",
        "cli_err_brush_args": "Error: --input (carpeta colmap) y --output (carpeta destino) son requeridos para BRUSH.",
        "cli_err_sharp_args": "Error: --input (imagen) y --output (carpeta) son requeridos para SHARP.",
        "cli_err_view_args": "Error: --input (archivo .ply o carpeta) es requerido para SUPERSPLAT.",
        "cli_start_colmap": "--- Iniciando COLMAP ---",
        "cli_start_brush": "--- Iniciando Entrenamiento BRUSH ---",
        "cli_start_sharp": "--- Iniciando Predicción SHARP ---",
        "cli_start_view": "--- Iniciando SUPERSPLAT ---",
        "cli_input": "Entrada: {}",
        "cli_output": "Salida: {}",
        "cli_progression": "Progreso: {}%",
        "cli_success": "\nÉXITO: {}",
        "cli_error": "\nERROR: {}",
        "cli_stopping": "\nParada solicitada...",
        "cli_server_stop": "\nDeteniendo servidores...",
    }
}
from pathlib import Path
from app.core.system import resolve_project_root

class LanguageManager:
    _instance = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super(LanguageManager, cls).__new__(cls)
            cls._instance.current_lang = "fr" # Default
            cls._instance._observers = []
            cls._instance.load_config()
        return cls._instance
    
    def add_observer(self, callback):
        """Add a callback to be notified when language changes"""
        if callback not in self._observers:
            self._observers.append(callback)
    
    def load_config(self):
        try:
            config_file = resolve_project_root() / "config.json"
            if config_file.exists():
                with open(config_file, "r") as f:
                    config = json.load(f)
                    self.current_lang = config.get("language", "fr")
        except:
            pass
            
    def save_config(self):
        try:
            config_file = resolve_project_root() / "config.json"
            config = {}
            if config_file.exists():
                with open(config_file, "r") as f:
                    config = json.load(f)
            
            config["language"] = self.current_lang
            
            with open(config_file, "w") as f:
                json.dump(config, f, indent=2)
        except:
            pass

    def set_language(self, lang_code):
        if lang_code in TRANSLATIONS:
            self.current_lang = lang_code
            self.save_config()
            for cb in self._observers:
                try:
                    cb()
                except Exception:
                    pass

    def tr(self, key, *args):
        lang_dict = TRANSLATIONS.get(self.current_lang, TRANSLATIONS["fr"])
        text = lang_dict.get(key, key)
        if args:
            try:
                text = text.format(*args)
            except:
                pass
        return text

# Global instance convenience
_lm = LanguageManager()

def tr(key, *args):
    return _lm.tr(key, *args)

def get_current_lang():
    return _lm.current_lang

def set_language(lang_code):
    _lm.set_language(lang_code)

def add_language_observer(callback):
    _lm.add_observer(callback)
